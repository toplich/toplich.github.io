[{"categories":["Automation","Windows"],"content":"Automating Windows Installation with Autounattend.xml and UUP dump Automating a Windows unattended installation can save hours of repetitive work — whether for lab testing, VM deployment, or mass corporate rollout. By using an Autounattend.xml file, you predefine installation steps such as language, partitioning, product key, and even post-install configuration, all without user input. In this guide, you’ll learn: What Autounattend.xml is and how it works How to create it How and where to place it How to integrate language packs How to use UUP dump for building custom ISOs Example: fully automated workflow Troubleshooting common issues ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:0:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"1. Understanding Autounattend.xml Autounattend.xml is a Windows answer file that automates setup by supplying preconfigured values. Phases (passes) it controls: windowsPE — disk partitioning, language, TPM/Secure Boot bypass specialize — drivers, hostname, networking oobeSystem — accounts, privacy, first-run experience Common settings include: Language and locale Disk layout and formatting Edition selection (from install.wim/install.esd) Product keys Driver injection Registry tweaks and PowerShell scripts When Windows Setup detects Autounattend.xml, it follows the specified configuration automatically. ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:1:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"2. Creating Autounattend.xml ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:2:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"Option 1: Windows SIM (System Image Manager) Part of Windows ADK Loads an install.wim and provides a GUI for configuring settings Validates before saving Download: Windows ADK ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:2:1","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"Option 2: Online Generators Example: Schneegans Generator Offers quick form-based setup for: Language Disk layout User accounts TPM/Secure Boot bypass Produces ready-to-use XML ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:2:2","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"Option 3: Manual Editing Edit with VS Code, Notepad++, etc. Follow the Unattended Setup Reference Always validate with Windows SIM ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:2:3","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"3. Placing Autounattend.xml Windows Setup searches multiple locations: ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:3:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"A. Root of USB Plug in a USB with only Autounattend.xml Works with official ISOs Requires 2 devices ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:3:1","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"B. Integrated into ISO Mount ISO → Copy contents → Place XML in root → Rebuild ISO Windows (ADK): oscdimg -m -o -u2 -udfver102 C:\\WinISO C:\\Win11-Auto.iso Linux: mkisofs -b boot/etfsboot.com -no-emul-boot -boot-load-size 8 -o Win11-Auto.iso WinISO/ Tip: use oscdimg on Windows, mkisofs on Linux. ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:3:2","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"C. Second Virtual CD/DVD Attach small ISO with Autounattend.xml as secondary media in VM Avoids editing original ISO ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:3:3","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"D. $OEM$ Structure Place in sources\\$OEM$\\$1 Common in OEM factory setups Note: Windows scans all connected drives, prioritizing removable media. ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:3:4","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"4. Integrating Language Packs Download .cab packages: Microsoft-Windows-Client-Language-Pack_x64_\u003clang\u003e.cab Microsoft-Windows-LanguageFeatures-Basic-\u003clang\u003e-Package.cab Inject with DISM: dism /Mount-Wim /WimFile:install.wim /Index:1 /MountDir:mount dism /Image:mount /Add-Package /PackagePath:lp.cab dism /Unmount-Wim /MountDir:mount /Commit Update Autounattend.xml \u003cUILanguage\u003e, \u003cSystemLocale\u003e, \u003cInputLocale\u003e Tip: If you use UUP dump and select the desired language during build, you can skip manual integration. ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:4:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"5. Using UUP dump UUP dump — a tool to download official Microsoft Windows builds from UUP servers with custom options. ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:5:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"Overview Any Windows version (11, 10, Server) Edition \u0026 language selection Language packs \u0026 Features on Demand Always latest builds from Microsoft CDN ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:5:1","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"Converter Scripts convert-UUP.cmd (Windows) convert.sh (Linux/macOS) Functions: Assemble ISO from UUP files Integrate updates, drivers, language packs Example (Linux): sudo apt install aria2 cabextract wimtools chntpw genisoimage ./convert.sh wim ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:5:2","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"6. Automated Workflow Example UUP dump → ISO Build → Add Autounattend.xml → (Optional) Add Language Packs → Deploy UUP dump — Select build, edition, language → Download script Convert — Run convert.sh or convert-UUP.cmd to get ISO Integrate XML — Place in root of ISO or separate ISO Optional: Inject language packs Deploy — Boot and enjoy unattended setup Example Linux one-liner: ./uup_download_linux.sh \u0026\u0026 cp Autounattend.xml iso-root/ \u0026\u0026 mkisofs -o Win11-Auto.iso iso-root/ ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:6:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"7. Troubleshooting Common Errors ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:7:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"XML Parse Error Validate in Windows SIM Check for unsupported elements ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:7:1","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"File Not Found Ensure exact filename Autounattend.xml Place in root of media ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:7:2","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"Driver Missing Inject via DISM before install ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:7:3","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"Language Not Applied Match \u003cUILanguage\u003e, \u003cUserLocale\u003e, \u003cSystemLocale\u003e with installed pack ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:7:4","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"TPM/Secure Boot Block Add registry bypass in windowsPE ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:7:5","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"Endless Reboot Simplify XML Match partition layout to boot mode Logs: X:\\Windows\\Panther\\setuperr.log X:\\Windows\\Panther\\setupact.log ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:7:6","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Automation","Windows"],"content":"8. Why Use This Combining Autounattend.xml + UUP dump lets you: Build fully automated ISOs Preconfigure language, edition, updates Save time in repetitive installations Maintain consistent environments for VMs, labs, and bare-metal deployments ","date":"2025-08-15","objectID":"/posts/win-autoinstall/:8:0","tags":["Windows","Automation","Deployment","UUP dump","Autounattend","Windows unattended install"],"title":"Automating Windows Installation with Autounattend.xml and UUP dump","uri":"/posts/win-autoinstall/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"1. Introduction :::info This guide shows how to build and deploy a modern static website using a fully open-source and serverless stack. ::: We will use the following tools: Hugo – fast and flexible static site generator GitHub Pages – free web hosting with Git-based deployment Cloudflare – DNS management, CDN, and HTTPS Resend – transactional email API for contact forms ","date":"2025-08-04","objectID":"/posts/website/:1:0","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"✅ Who is this for? This setup is ideal for: Community and non-profit projects Personal websites and portfolios Lightweight, multilingual static sites ","date":"2025-08-04","objectID":"/posts/website/:1:1","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"💡 Why this stack? Free and easy to maintain Fast performance with global CDN No backend or database needed Clean separation between content and infrastructure ","date":"2025-08-04","objectID":"/posts/website/:1:2","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"📦 What will you learn? This guide covers: Setting up a Hugo site Hosting it on GitHub Pages Securing it with Cloudflare (DNS + HTTPS) Adding a contact form with Resend via Cloudflare Worker Let’s get started. ","date":"2025-08-04","objectID":"/posts/website/:1:3","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"2. Setup ","date":"2025-08-04","objectID":"/posts/website/:2:0","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🛠️ Requirements Make sure the following tools are installed: Go (v1.20 or later) Git Hugo Extended (v0.111 or later) Node.js (optional, for advanced features) ","date":"2025-08-04","objectID":"/posts/website/:2:1","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧱 Create a new Hugo site hugo new site mysite cd mysite ","date":"2025-08-04","objectID":"/posts/website/:2:2","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🎨 Install Hugo Blox theme Add the Hugo Blox theme as a Git submodule: git init git submodule add https://github.com/HugoBlox/hugo-blox-builder.git themes/hugo-blox-builder Copy the example site content: cp -r themes/hugo-blox-builder/exampleSite/* . Install dependencies (optional): npm install ","date":"2025-08-04","objectID":"/posts/website/:2:3","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"⚙️ Basic configuration Edit the following files: config/_default/config.yaml – site language, base URL config/_default/params.yaml – branding, theme settings config/_default/menus.yaml – navigation menu assets/media/ – upload your logo and favicon Example baseURL (for GitHub Pages): baseURL: \"https://yourusername.github.io/mysite/\" ","date":"2025-08-04","objectID":"/posts/website/:2:4","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🚀 Run local server hugo server Visit http://localhost:1313 to preview your site. :::tip Use GitHub Desktop or CLI to version control all changes. ::: ","date":"2025-08-04","objectID":"/posts/website/:2:5","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"3. Content Management Managing content in Hugo is simple and efficient. All pages and posts are written in Markdown and organized in folders under the content/ directory. ","date":"2025-08-04","objectID":"/posts/website/:3:0","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🗂️ Content structure Each language has its own folder: content/ ├── en/ │ ├── _index.md │ └── about.md ├── de/ │ └── about.md └── fr/ └── about.md Each Markdown file represents a page and includes a front matter block at the top. Example about.md: --- title: \"About Us\" date: 2025-08-01 type: page layout: page --- ","date":"2025-08-04","objectID":"/posts/website/:3:1","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"✍️ Creating a new page Use the hugo new command: hugo new en/about.md This will create a file in content/en/about.md with a pre-filled front matter. ","date":"2025-08-04","objectID":"/posts/website/:3:2","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"📄 Page types There are two common types of content: Page (type: page) – standalone pages like “About” or “Contact” Post (type: post) – blog/news entries shown in lists Use different layouts if needed: page, post, or custom layouts. ","date":"2025-08-04","objectID":"/posts/website/:3:3","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧭 Navigation menu Define menus in config/_default/menus.yaml: main: - name: About url: /about/ weight: 10 To add multilingual labels, use Hugo’s built-in i18n system: i18n/ ├── en.yaml ├── de.yaml └── fr.yaml Example en.yaml: - id: about translation: \"About Us\" ","date":"2025-08-04","objectID":"/posts/website/:3:4","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🌍 Multilingual setup In config/_default/config.yaml, define the site languages: defaultContentLanguage: en languages: en: languageName: English weight: 1 de: languageName: Deutsch weight: 2 Use relLangURL in templates to link between languages. ","date":"2025-08-04","objectID":"/posts/website/:3:5","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"👁️ Preview your content Run the local server: hugo server Check the site in your browser at http://localhost:1313. Use hugo server --navigateToChanged to auto-scroll to the last edited page. :::tip Use clear folder structure and consistent naming. Avoid spaces and uppercase letters in filenames. ::: ","date":"2025-08-04","objectID":"/posts/website/:3:6","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"4. GitHub Deployment You can deploy your Hugo site automatically to GitHub Pages using GitHub Actions. This approach works for both personal and project sites. ","date":"2025-08-04","objectID":"/posts/website/:4:0","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧑‍💻 1. Create a GitHub repository Create a new repository on GitHub. Do not initialize it with a README or .gitignore. Connect your local project: git remote add origin https://github.com/yourusername/yourrepo.git git branch -M main git push -u origin main ","date":"2025-08-04","objectID":"/posts/website/:4:1","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"⚙️ 2. Add GitHub Actions workflow Create the file .github/workflows/deploy.yml: name: Deploy Hugo site to GitHub Pages on: push: branches: - main jobs: deploy: runs-on: ubuntu-latest steps: - name: Checkout source uses: actions/checkout@v3 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: 'latest' extended: true - name: Build site run: hugo --minify - name: Deploy to GitHub Pages uses: peaceiris/actions-gh-pages@v3 with: github_token: ${{ secrets.GITHUB_TOKEN }} publish_dir: ./public ","date":"2025-08-04","objectID":"/posts/website/:4:2","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🗂️ 3. Configure config.yaml for deployment In config/_default/config.yaml, set the correct baseURL: baseURL: \"https://yourusername.github.io/yourrepo/\" Make sure this path matches your actual repository name. ","date":"2025-08-04","objectID":"/posts/website/:4:3","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🛡️ 4. Enable GitHub Pages Go to your repository → Settings → Pages Set Source to Deploy from a branch → choose gh-pages branch and / (root) directory. GitHub will host your site at: https://yourusername.github.io/yourrepo/ ","date":"2025-08-04","objectID":"/posts/website/:4:4","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧪 5. Test the deployment Every time you push to main, GitHub will: Build your site Deploy it to the gh-pages branch Make it available via GitHub Pages Check the Actions tab for logs and status. :::tip If you’re using a custom domain, configure it later via Cloudflare and set it in config.yaml under baseURL. ::: ","date":"2025-08-04","objectID":"/posts/website/:4:5","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"5. Cloudflare Setup Cloudflare acts as a global CDN, DNS provider, and HTTPS enabler for your static website. It improves performance, reliability, and security. ","date":"2025-08-04","objectID":"/posts/website/:5:0","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🌐 1. Add your domain to Cloudflare Go to https://dash.cloudflare.com Click “Add a Site” Enter your custom domain (e.g. example.com) Select the Free Plan ","date":"2025-08-04","objectID":"/posts/website/:5:1","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧾 2. Update your domain’s nameservers Cloudflare will show two nameservers (e.g. sue.ns.cloudflare.com, tim.ns.cloudflare.com). Update your domain registrar (e.g. Swizzonic, GoDaddy) to use these nameservers. ⚠️ DNS changes may take a few hours to propagate. ","date":"2025-08-04","objectID":"/posts/website/:5:2","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"📁 3. Set DNS records Go to DNS → Records and add: Type: CNAME Name: www Target: yourusername.github.io. Proxy status: Proxied Optional: add a redirect from root domain to www using Page Rules. ","date":"2025-08-04","objectID":"/posts/website/:5:3","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🔒 4. Configure SSL/TLS Go to SSL/TLS → Overview and set: SSL Mode: Full or Full (Strict) Auto HTTPS rewrites: ✅ enabled Always Use HTTPS: ✅ enabled Use Full (Strict) only if GitHub Pages presents a valid certificate for your domain. ","date":"2025-08-04","objectID":"/posts/website/:5:4","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"📄 5. Set custom domain in Hugo In config/_default/config.yaml, update: baseURL: \"https://www.example.com/\" If using multilingual setup, set baseURL under each language. ","date":"2025-08-04","objectID":"/posts/website/:5:5","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"⚙️ 6. Optional: Configure additional features Cloudflare offers many extras: Caching rules WAF and security level Custom error pages Analytics and bot protection You can manage these via the Cloudflare dashboard as needed. :::tip If you’re using www.example.com, GitHub Pages should serve from gh-pages branch, and Cloudflare will handle HTTPS and DNS. ::: ","date":"2025-08-04","objectID":"/posts/website/:5:6","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"6. Resend Contact Form Integration You can send emails from a static site by using a contact form that submits to a Cloudflare Worker, which then forwards the data via the Resend API. ","date":"2025-08-04","objectID":"/posts/website/:6:0","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"📬 1. Create a Resend account and API key Go to https://resend.com Sign up and verify your email Add your domain (e.g. allegra-march.ch) Set up DNS records (SPF, DKIM, DMARC) Create an API key under API → Create API Key ","date":"2025-08-04","objectID":"/posts/website/:6:1","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧰 2. Create a Cloudflare Worker Install Wrangler (CLI for Cloudflare Workers): npm install -g wrangler Login to your Cloudflare account: wrangler login Generate a new Worker: wrangler init contact-worker --no-git cd contact-worker Edit src/index.ts (or index.js if using JS) with the following: export default { async fetch(request: Request): Promise\u003cResponse\u003e { if (request.method !== \"POST\") { return new Response(\"Only POST allowed\", { status: 405 }); } const data = await request.json(); const res = await fetch(\"https://api.resend.com/emails\", { method: \"POST\", headers: { \"Authorization\": \"Bearer YOUR_RESEND_API_KEY\", \"Content-Type\": \"application/json\", }, body: JSON.stringify({ from: \"Form \u003cform@yourdomain.com\u003e\", to: \"your@email.com\", subject: \"New Contact Form Submission\", text: `Name: ${data.name}\\nEmail: ${data.email}\\nMessage: ${data.message}`, }), }); return new Response(\"Email sent\", { status: 200 }); }, }; Replace YOUR_RESEND_API_KEY and email addresses. ","date":"2025-08-04","objectID":"/posts/website/:6:2","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🔐 3. Set your Resend key as a secret wrangler secret put RESEND_API_KEY In your code, replace the key with: \"Authorization\": `Bearer ${RESEND_API_KEY}` ","date":"2025-08-04","objectID":"/posts/website/:6:3","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🚀 4. Deploy the Worker wrangler publish Note the deployed URL (e.g. https://contact-worker.yourname.workers.dev) ","date":"2025-08-04","objectID":"/posts/website/:6:4","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🖊 5. Add the contact form to your Hugo site \u003cform method=\"POST\" action=\"https://contact-worker.yourname.workers.dev\"\u003e \u003cinput type=\"text\" name=\"name\" required placeholder=\"Your Name\"\u003e \u003cinput type=\"email\" name=\"email\" required placeholder=\"Your Email\"\u003e \u003ctextarea name=\"message\" required placeholder=\"Your Message\"\u003e\u003c/textarea\u003e \u003cbutton type=\"submit\"\u003eSend\u003c/button\u003e \u003c/form\u003e Style with CSS as needed. ","date":"2025-08-04","objectID":"/posts/website/:6:5","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧪 6. Test your form Fill out the form on your site Check your inbox Monitor delivery in the Resend dashboard :::tip To prevent abuse, consider adding a simple honeypot field or reCAPTCHA. You can also validate requests in the Worker. ::: ","date":"2025-08-04","objectID":"/posts/website/:6:6","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"7. Security \u0026 Spam Protection To prevent abuse of your contact form, it’s important to implement basic security and anti-spam measures. Static sites have no backend, so the protection must happen inside the Cloudflare Worker. ","date":"2025-08-04","objectID":"/posts/website/:7:0","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🔒 1. Enforce request method and content type Make sure your Worker only accepts POST requests with JSON payload: if (request.method !== \"POST\") { return new Response(\"Method Not Allowed\", { status: 405 }); } if (!request.headers.get(\"Content-Type\")?.includes(\"application/json\")) { return new Response(\"Invalid content type\", { status: 400 }); } ","date":"2025-08-04","objectID":"/posts/website/:7:1","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧪 2. Validate user input Always sanitize and validate user input in the Worker: const { name, email, message } = await request.json(); if (!name || !email || !message) { return new Response(\"Missing fields\", { status: 400 }); } if (!email.includes(\"@\")) { return new Response(\"Invalid email\", { status: 400 }); } ","date":"2025-08-04","objectID":"/posts/website/:7:2","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧱 3. Honeypot field (invisible trap) Add a hidden field in your HTML form: \u003cinput type=\"text\" name=\"nickname\" style=\"display:none\"\u003e In the Worker, check if it’s filled: if (data.nickname) { return new Response(\"Spam detected\", { status: 403 }); } Bots will likely fill hidden fields; real users won’t. ","date":"2025-08-04","objectID":"/posts/website/:7:3","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"⏱ 4. Rate limiting (basic) Cloudflare Workers don’t provide built-in rate limiting, but you can add logic using IP address + KV: Track timestamp of last submission per IP Block repeated requests within N seconds Example: use Cloudflare KV or durable objects (advanced) ","date":"2025-08-04","objectID":"/posts/website/:7:4","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🧩 5. reCAPTCHA (optional) You can integrate Google reCAPTCHA v2/v3: Add a reCAPTCHA widget to the form Get the token on submit Send the token to the Worker Verify token via Google API inside the Worker Requires server-side verification and is more complex to implement. ","date":"2025-08-04","objectID":"/posts/website/:7:5","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"✉️ 6. Email protections via Resend In your Resend dashboard: Enable SPF, DKIM, and DMARC on your domain Monitor bounce/spam reports Use a verified from: address to avoid spam filters :::tip Start simple with a honeypot and basic validation. Add rate-limiting or CAPTCHA only if spam becomes a problem. ::: ","date":"2025-08-04","objectID":"/posts/website/:7:6","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"8. Conclusion \u0026 Resources By following this guide, you’ve built a modern, fast, and secure static website using: Hugo for content generation GitHub Pages for hosting Cloudflare for DNS, CDN, and HTTPS Resend for handling contact form emails via API This stack is fully serverless, free to use, and easy to maintain. It’s suitable for personal projects, non-profits, and multilingual community websites. ","date":"2025-08-04","objectID":"/posts/website/:8:0","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"✅ Summary of key benefits Fast and optimized delivery via CDN No backend or database required Secure contact form with spam protection Easy to version, update, and collaborate via Git Zero hosting cost (if using free tiers) ","date":"2025-08-04","objectID":"/posts/website/:8:1","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"📚 Useful resources Hugo Documentation: https://gohugo.io/documentation/ Hugo Blox Theme: https://docs.hugoblox.com/ GitHub Pages: https://pages.github.com/ Cloudflare Docs: https://developers.cloudflare.com/ Resend API: https://resend.com/docs Wrangler CLI: https://developers.cloudflare.com/workers/wrangler/ ","date":"2025-08-04","objectID":"/posts/website/:8:2","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["Web Development","Open Source","Infrastructure"],"content":"🙌 Final note You now have a powerful foundation for your website — one that is fast, scalable, and privacy-respecting. Extend it further with: Hugo shortcodes, partials, and custom layouts Cloudflare KV for storing form submissions Resend Webhooks for tracking delivery status GitHub Actions for content automation :::info This guide is maintained by [Your Name] and used in real-world non-profit and volunteer projects. ::: ","date":"2025-08-04","objectID":"/posts/website/:8:3","tags":["Hugo","GitHub Pages","Cloudflare","Resend","Static Site","Email","Contact Form"],"title":"Build a Modern Hugo Website with GitHub, Cloudflare, and Resend","uri":"/posts/website/"},{"categories":["linux"],"content":"✍️ Quick Guide to vim vim is a powerful, keyboard-driven text editor found on almost every Unix-like system. It’s fast, lightweight, and essential for sysadmins and developers. ","date":"2025-07-15","objectID":"/posts/vim/:0:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"🧭 Understanding Vim Modes Vim has 3 primary modes: Mode Description Normal Navigation and commands Insert Typing/editing text Visual Selecting text You start in Normal mode by default. ","date":"2025-07-15","objectID":"/posts/vim/:1:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"📂 Opening a File vim myfile.txt This opens the file in Normal mode. ","date":"2025-07-15","objectID":"/posts/vim/:2:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"✍️ Entering Insert Mode Key Description i Insert before cursor a Append after cursor o Open new line below 💡 Tip: You’ll see -- INSERT -- at the bottom of the screen when in Insert mode. ","date":"2025-07-15","objectID":"/posts/vim/:3:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"⎋ Returning to Normal Mode Press Esc to exit Insert or Visual mode and return to Normal mode. ","date":"2025-07-15","objectID":"/posts/vim/:4:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"💾 Saving and Quitting Command Description :w Save (write) :q Quit :wq / ZZ Save and quit :q! Quit without saving Tip for Beginners To exit Vim quickly, press Esc, then type :q! and hit Enter. ","date":"2025-07-15","objectID":"/posts/vim/:5:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"🔁 Navigation Shortcuts (Normal Mode) Key Action h, j, k, l Move left, down, up, right gg Go to top of file G Go to end of file 0 / ^ / $ Start / first char / end of line w, b Next / previous word Ctrl+d/u Scroll half page down/up ","date":"2025-07-15","objectID":"/posts/vim/:6:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"📌 Editing Text (Normal Mode) Key Action dd Delete (cut) current line yy Copy current line p Paste after cursor u / Ctrl+r Undo / redo x Delete character under cursor r\u003cchar\u003e Replace character ","date":"2025-07-15","objectID":"/posts/vim/:7:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"🔧 Useful Vim Settings (.vimrc) set number \" show line numbers set tabstop=4 \" 4 spaces per tab set expandtab \" convert tabs to spaces set autoindent \" smart indentation set mouse=a \" enable mouse support syntax on \" enable syntax highlighting ","date":"2025-07-15","objectID":"/posts/vim/:8:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"📚 Resources Run vimtutor in terminal for an interactive tutorial. Official site: https://www.vim.org Cheatsheet: https://vim.rtorr.com ","date":"2025-07-15","objectID":"/posts/vim/:9:0","tags":["Linux","Terminal","Vim","CLI","Text Editor","Productivity"],"title":"Vim Quick Start Guide","uri":"/posts/vim/"},{"categories":["linux"],"content":"🧪 Quick Guide to tmux tmux (terminal multiplexer) lets you run multiple terminal sessions in one window — detach and reattach them at will. It’s ideal for remote work and multitasking in the terminal. ","date":"2025-07-15","objectID":"/posts/tmux/:0:0","tags":["Linux","Terminal","tmux","Productivity","DevOps","CLI"],"title":"tmux Quick Start Guide","uri":"/posts/tmux/"},{"categories":["linux"],"content":"🚀 Start a New Session tmux new -s mysession This creates a new tmux session named mysession. ","date":"2025-07-15","objectID":"/posts/tmux/:1:0","tags":["Linux","Terminal","tmux","Productivity","DevOps","CLI"],"title":"tmux Quick Start Guide","uri":"/posts/tmux/"},{"categories":["linux"],"content":"🔁 Reattach to a Session List all available sessions: tmux ls Attach to the most recent session: tmux attach Attach to a specific session: tmux attach -t mysession ","date":"2025-07-15","objectID":"/posts/tmux/:2:0","tags":["Linux","Terminal","tmux","Productivity","DevOps","CLI"],"title":"tmux Quick Start Guide","uri":"/posts/tmux/"},{"categories":["linux"],"content":"⌨️ Common Keybindings Press Ctrl + b first, then: Key Action d Detach from session c Create a new window n Next window \" Split pane horizontally % Split pane vertically x Close the current pane [ Enter scrollback mode : Open command prompt ","date":"2025-07-15","objectID":"/posts/tmux/:3:0","tags":["Linux","Terminal","tmux","Productivity","DevOps","CLI"],"title":"tmux Quick Start Guide","uri":"/posts/tmux/"},{"categories":["linux"],"content":"🧹 Exit a Session Kill a specific tmux session: tmux kill-session -t mysession Or exit from inside tmux: exit ","date":"2025-07-15","objectID":"/posts/tmux/:4:0","tags":["Linux","Terminal","tmux","Productivity","DevOps","CLI"],"title":"tmux Quick Start Guide","uri":"/posts/tmux/"},{"categories":["linux"],"content":"🔧 Useful Aliases (.bashrc or .zshrc) alias ta=\"tmux attach\" alias tn=\"tmux new -s\" alias tls=\"tmux ls\" Pro tip Tmux is perfect for long-running processes on servers. Detach with Ctrl + b, then d, log out, and come back later! ","date":"2025-07-15","objectID":"/posts/tmux/:5:0","tags":["Linux","Terminal","tmux","Productivity","DevOps","CLI"],"title":"tmux Quick Start Guide","uri":"/posts/tmux/"},{"categories":["Backup","Infrastructure"],"content":"1. Direct-Attached Storage (DAS) ","date":"2025-07-13","objectID":"/posts/veeam-repo/:1:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Description: DAS refers to a storage device (e.g., internal HDDs, USB drives, or RAID arrays) that is physically connected to the Veeam Backup Server or Backup Proxy. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:1:1","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Use case: Simple deployments or environments with limited infrastructure. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:1:2","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Configuration Steps: Connect the storage device to your Veeam server. Format the disk using ReFS (Windows) or XFS with reflink=1 (Linux) for best performance. Open Veeam Console \u003e Backup Infrastructure \u003e Backup Repositories \u003e Add Repository. Choose “Direct Attached Storage” \u003e Microsoft Windows or Linux (depending on the OS). Specify the mount path (e.g., D:\\Backups or /mnt/veeam). Finish the wizard and assign the repository to a job. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:1:3","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"2. NAS (SMB or NFS Share) ","date":"2025-07-13","objectID":"/posts/veeam-repo/:2:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Description: Network-attached storage accessed over the network via SMB or NFS protocol. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:2:1","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Use case: Shared backup targets, easy scalability, centralized storage. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:2:2","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Configuration Steps: Ensure your NAS share is accessible (e.g., \\\\nas01\\veeam or NFS path). In Veeam Console \u003e Add Backup Repository \u003e Shared Folder. Specify the network path and access credentials. Assign a folder name and complete the wizard. ⚠️ Immutability and fast clone are not supported with SMB/NFS. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:2:3","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"3. Windows Backup Repository ","date":"2025-07-13","objectID":"/posts/veeam-repo/:3:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Description: A Windows Server or desktop system where Veeam stores backups. Best used with ReFS file system. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:3:1","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Use case: Windows-only environments or when ReFS benefits (fast clone) are desired. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:3:2","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Configuration Steps: Ensure the volume is formatted with ReFS (Windows Server 2016+): Format-Volume -DriveLetter D -FileSystem ReFS -NewFileSystemLabel \"VeeamRepo\" In Veeam Console \u003e Add Backup Repository \u003e Microsoft Windows. Provide the hostname or IP and credentials. Select the path (e.g., D:\\Backups). Finish the setup. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:3:3","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"4. Hardened Linux Repository (Immutability Enabled) ","date":"2025-07-13","objectID":"/posts/veeam-repo/:4:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Description: A secure, immutable Linux-based repository using non-root access and XFS with reflink. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:4:1","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Use case: Maximum protection against ransomware. Required for compliance-focused environments. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:4:2","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Configuration Steps: Prepare a Linux server with XFS-formatted disk and create a non-root user (e.g., veeamrepo). Assign the public SSH key to the user (password login should remain enabled only temporarily for initial setup). Temporarily grant sudo access for Veeam to install its data mover. In Veeam Console, add the Linux server as a repository and enable immutability. Once the repository is added successfully, remove the user from the sudo group and optionally create /etc/sudoers.d/99-veeamrepo with: veeamrepo ALL=(ALL) !ALL Disable SSH password authentication: sed -i 's/^#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config systemctl restart ssh Final security hardening (optional): usermod -s /usr/sbin/nologin veeamrepo ","date":"2025-07-13","objectID":"/posts/veeam-repo/:4:3","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Manual Preparation Steps Summary If you’d rather prepare the Hardened Linux Repository manually, follow these steps: Create a non-root user with no password: adduser --disabled-password --gecos \"\" veeamrepo Assign a public SSH key: mkdir -p /home/veeamrepo/.ssh echo \"ssh-rsa AAAA...\" \u003e /home/veeamrepo/.ssh/authorized_keys chmod 700 /home/veeamrepo/.ssh chmod 600 /home/veeamrepo/.ssh/authorized_keys chown -R veeamrepo:veeamrepo /home/veeamrepo/.ssh Install required packages: apt update \u0026\u0026 apt install -y xfsprogs openssh-server sudo Format and mount the XFS disk with reflink: mkfs.xfs -b size=4096 -m reflink=1,crc=1 /dev/sdb mkdir -p /mnt/veeam UUID=$(blkid -s UUID -o value /dev/sdb) echo \"UUID=$UUID /mnt/veeam xfs defaults 0 0\" \u003e\u003e /etc/fstab mount -a chown veeamrepo:veeamrepo /mnt/veeam Add the repository to Veeam using SSH key and temporary sudo access. After successful configuration (optional hardening): deluser veeamrepo sudo echo \"veeamrepo ALL=(ALL) !ALL\" \u003e /etc/sudoers.d/99-veeamrepo sed -i 's/^#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config systemctl restart ssh usermod -s /usr/sbin/nologin veeamrepo ","date":"2025-07-13","objectID":"/posts/veeam-repo/:4:4","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Automated Script (hosted at run.topli.ch) If you’d prefer an automated solution, you can use the following script: curl -fsSL https://run.topli.ch/sh/hardened-linux-repo.sh | bash ⚠️ Review the script before executing. It configures XFS, creates a non-root user, and prepares the system for Veeam Hardened Repository integration. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:4:5","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"5. S3-Compatible Repository with MinIO (Docker on Synology NAS) ","date":"2025-07-13","objectID":"/posts/veeam-repo/:5:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Description: A local object storage solution using MinIO with S3-compatible API, TLS encryption, object versioning, and Object Lock for immutability. Ideal for on-prem, private cloud setups with full control. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:5:1","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Use case: Secure backup target with immutability, suitable for use with Veeam’s Object Storage Repository feature. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:5:2","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"Configuration Summary: Prepare Synology NAS: Ensure Docker (Container Manager) is installed Enable SSH access Generate TLS Certificates: mkdir certs openssl req -x509 -nodes -days 730 -newkey rsa:2048 \\ -keyout certs/private.key \\ -out certs/public.crt \\ -subj \"/CN=minio.local\" \\ -addext \"subjectAltName=DNS:minio.local,DNS:localhost,IP:192.168.1.2,IP:127.0.0.1\" chmod 600 certs/private.key chmod 644 certs/public.crt Create MinIO data directory: mkdir -p /volume1/minio-data Deploy MinIO via Docker Compose: Create docker-compose.yml: version: '3.8' services: minio: image: minio/minio:latest container_name: minio ports: - \"9000:9000\" - \"9001:9001\" volumes: - /volume1/minio-data:/data - ./certs:/root/.minio/certs environment: MINIO_ROOT_USER: minio MINIO_ROOT_PASSWORD: yourSecretKey MINIO_SERVER_URL: https://192.168.1.2:9000 MINIO_BROWSER_REDIRECT_URL: https://minio.local:9001 command: server /data --console-address \":9001\" restart: unless-stopped Then run: docker-compose up -d Create S3 bucket with Object Lock: docker run --rm -it \\ -e AWS_ACCESS_KEY_ID=minio \\ -e AWS_SECRET_ACCESS_KEY=yourSecretKey \\ --network host \\ amazon/aws-cli \\ s3api create-bucket \\ --bucket veeam-locked \\ --object-lock-enabled-for-bucket \\ --endpoint-url https://192.168.1.2:9000 \\ --no-verify-ssl \\ --no-cli-pager Enable versioning and retention: docker exec minio mc alias set local https://192.168.1.2:9000 minio yourSecretKey --insecure docker exec minio mc version enable local/veeam-locked --insecure docker exec minio mc retention set --default GOVERNANCE 30d local/veeam-locked --insecure Add to Veeam: Go to Backup Infrastructure \u003e Object Storage Repository Select S3-Compatible Enter: Endpoint: https://192.168.1.2:9000 Bucket: veeam-locked Access Key: minio Secret Key: yourSecretKey Enable Immutability 🔗 Optional: Use this MinIO S3 target as Capacity Tier in a Scale-Out Backup Repository (SOBR). ","date":"2025-07-13","objectID":"/posts/veeam-repo/:5:3","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"6. iSCSI-Based Repository over WireGuard Tunnel Using Veeam Backup Copy via iSCSI Target on Synology NAS over WireGuard Tunnel In this guide, we’ll show how to configure a secure and stable Backup Copy destination in Veeam by connecting to an iSCSI target hosted on a Synology NAS, with traffic routed through a WireGuard tunnel. This setup is ideal for inter-site backup replication, where the NAS is behind NAT or has a dynamic IP address. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"🔧 Use Case ┌ │ │ │ │ │ └ P ─ ─ o ( ─ ┌ │ └ ─ w c ─ W ─ ─ ─ e h ─ i ─ ─ ─ r e ─ n ─ V ─ ─ S c ─ d ─ e ─ R ─ h k ─ o ─ e ─ e ─ e - ─ w ─ a ─ F ─ l i ─ s ─ m ─ S ─ l s ─ ─ ─ ┬ │ ▼ c ─ S ─ B ─ R ─ W s ─ e ─ \u0026 ─ : ─ a i ─ r ─ R ─ \\ ─ t . ─ v ─ ─ ─ c p ─ e ─ ─ ─ h s ─ r ─ ─ ─ d 1 ─ ┐ │ ┘ ─ o ) ─ ─ g ┐ │ │ │ │ │ ┘ ◄ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ W ─ i ─ r ─ e ─ G ─ u ─ a ─ r ─ d ─ ─ T ─ u ─ n ─ n ─ e ─ l ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ► ┌ │ │ │ │ │ └ ─ ─ ─ ┌ │ └ I ─ ─ ─ ─ P ─ W w ─ S ─ ─ : ─ a g ─ y ─ i ─ ─ t - ─ n ─ S ─ 1 ─ c w ─ o ─ C ─ 9 ─ h a ─ l ─ S ─ 2 ─ d t ─ o ─ I ─ . ─ o c ─ g ─ ─ 1 ┬ │ ▼ g h ─ y ─ L ─ 6 ─ d ─ ─ U ─ 8 ─ S o ─ N ─ N ─ . ─ c g ─ A ─ ─ 1 ─ r . ─ S ─ ─ . ─ i s ─ ─ ─ 2 ─ p h ─ ┐ │ ┘ ─ t ─ ─ ┐ │ │ │ │ │ ┘ You want to use your Synology NAS located at a remote site as a Backup Copy repository for Veeam. However, due to dynamic WAN IP and security constraints, you need to connect via WireGuard VPN. iSCSI will be used as the transport protocol, and the target will be mounted on a Windows Server with Veeam installed. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:1","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"🔎 Overview 📁 Synology NAS with iSCSI Target enabled (LUN created) 🛠 Windows Server with Veeam Backup \u0026 Replication 🔺 WireGuard tunnel between the two sites 🔗 iSCSI traffic routed securely via VPN tunnel 🌐 ReFS-formatted volume used as repository ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:2","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"📂 Step 1: Prepare Synology NAS Install SAN Manager (if not already installed) Create a LUN and iSCSI Target Enable CHAP authentication (optional but recommended) Ensure LUN is mapped to the target Note internal NAS IP (e.g. 192.168.1.2) ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:3","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"🛂 Step 2: Set Up WireGuard Tunnel 📘 For a detailed setup on WireGuard tunnel configuration: 🔧 NAS Side (Docker-based tunnel): 👉 Quick Setup: WireGuard inside Docker on Synology NAS 🔧 OPNsense Firewall Side (Site-to-Site VPN): 👉 WireGuard Site-to-Site VPN with OPNsense Ensure the following: The NAS IP (e.g. 192.168.1.2) is reachable from the Windows Veeam server via the tunnel. Proper UDP port forwarding is in place (e.g., port 51820 forwarded to the container). AllowedIPs include the NAS LAN (e.g., 192.168.1.0/24). ✅ You can run the tunnel inside a Docker container using wireguard-go, especially useful if your NAS does not support kernel modules. 🔁 Tunnel \u0026 Connection Monitoring (Watchdog) To ensure maximum reliability, especially across WAN links or dynamic networks, it’s recommended to implement a watchdog mechanism on both ends of the tunnel: 🔄 On the NAS (Container) A cron-based watchdog script periodically checks tunnel connectivity and restarts the container if necessary: 📜 Full guide: 👉 WireGuard Docker Watchdog via Cron 💡 Example cron job: */5 * * * * /bin/bash /scripts/wg-watchdog.sh \u003e\u003e /var/log/wg-watchdog.log 2\u003e\u00261 🧠 On the Windows Server (PowerShell Watchdog) Use a lightweight PowerShell script to monitor the iSCSI session and automatically reconnect in case of disconnection. This helps mitigate edge cases where the WireGuard tunnel is restored, but the iSCSI session remains dropped. 📜 Script download: 👉 PowerShell Watchdog: check-iscsi.ps1 💡 You can schedule this script every 5 minutes via Task Scheduler or as a Windows Service: Task Name: Check-iSCSI-Session Trigger: Every 5 minutes Action (command): powershell.exe -ExecutionPolicy Bypass -File \"C:\\Scripts\\check-iscsi.ps1\" ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:4","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"🛠 Step 3: Connect Windows to iSCSI Target Open iSCSI Initiator on the Windows Server Enter the ** IP of Synology** (e.g. 192.168.1.2) Connect and enter CHAP credentials if configured Once connected, open Disk Management Initialize the disk and format with ReFS Assign a static drive letter (e.g. R:) ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:5","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"📄 Step 4: Add Repository in Veeam Open Veeam B\u0026R Console Go to Backup Infrastructure \u003e Backup Repositories Add New Repository: Type: Direct Attached Storage Server: This Windows server Path: R:\\ Format: ReFS (optimized for fast cloning) Use the repository as a target for Backup Copy Jobs. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:6","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"📊 Performance \u0026 Reliability Tips Use WireGuard KeepAlive: PersistentKeepalive = 25 Enable iSCSI MPIO on Windows for redundancy (optional) Schedule cron to monitor the tunnel and reconnect if needed Use Veeam health checks and periodic validation 🧩 Additional Best Practices ✔️ Use hostnames instead of raw IPs In iSCSI Initiator, configure target connections with DNS names (e.g., nas.remote.lan) to allow future migrations or failover. ✔️ Isolate iSCSI traffic inside VPN Ensure no fallback to public routes by explicitly binding iSCSI to the WireGuard interface. ✔️ Avoid Backup Copy during maintenance Run jobs outside known maintenance windows (e.g., NAS updates, WAN restarts). ✔️ Enable Veeam Job Retry In job settings, allow retries (e.g., 3 times every 15 min) to auto-heal short tunnel drops. ✔️ Enable Veeam Integrity Checks Activate health checks to validate backups and detect silent errors. ✔️ Secure CHAP credentials Avoid storing CHAP secrets in plaintext — use Windows Credential Manager or secure vaults. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:7","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"🔗 Summary This setup allows using a Synology NAS as a reliable Backup Copy target for Veeam over a secure WireGuard VPN. It leverages iSCSI to expose a block-level device, giving better performance and integrity than SMB/NFS, especially over WAN. The use of ReFS on the repository ensures fast cloning and enhanced integrity, while automated watchdog mechanisms help keep both the VPN tunnel and iSCSI session continuously available. Together, these elements make this architecture a production-ready, fault-tolerant remote backup solution for hybrid environments. 🔐 WireGuard | 📄 Veeam Documentation ","date":"2025-07-13","objectID":"/posts/veeam-repo/:6:8","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"7. Immutability \u0026 Compatibility Matrix Repository Type File System Fast Clone Immutability TLS Support Remote-Ready Direct-Attached (Windows) ReFS ✅ ❌ ❌ ❌ Direct-Attached (Linux) XFS ✅ ❌ ❌ ❌ Hardened Linux Repository XFS ✅ ✅ ❌ ⚠️ (manual) NAS (SMB/NFS) ext4/btrfs ❌ ❌ ❌ ✅ S3-Compatible with MinIO ObjectStore ❌ ✅ ✅ ✅ iSCSI Target via WireGuard (ReFS) ReFS ✅ ❌ ✅ (via tunnel) ✅ ","date":"2025-07-13","objectID":"/posts/veeam-repo/:7:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"8. Feature Comparison Table Feature Hardened Linux SMB/NFS Windows ReFS MinIO S3 iSCSI via WG Fast Clone ✅ ❌ ✅ ❌ ✅ Immutability ✅ ❌ ❌ ✅ ❌ TLS Encryption ❌ ❌ ❌ ✅ ✅ Requires VPN ❌ ❌ ❌ ❌ ✅ Suitable for Backup Copy ⚠️ ✅ ✅ ✅ ✅ ","date":"2025-07-13","objectID":"/posts/veeam-repo/:8:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"9. References and Links 🔐 WireGuard Official 📄 Veeam Help Center 📦 MinIO Documentation 💾 Synology iSCSI Target Setup 📜 ReFS Overview – Microsoft 🔧 Hardened Repository by Veeam ","date":"2025-07-13","objectID":"/posts/veeam-repo/:9:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"10. Final Thoughts Choosing the right local repository depends on your needs: 🛡️ For immutability \u0026 security: Choose Hardened Linux or MinIO with Object Lock. 🪟 For quick Windows setup: Use Windows ReFS repository. 🌍 For hybrid or inter-site setups: Use WireGuard + iSCSI or MinIO via S3-compatible endpoint. ✅ Always: Monitor repository health. Plan for enough storage. Regularly test backup restores. Secure credentials (CHAP, SSH keys). Use job retry and validation mechanisms in Veeam. With the right architecture, even small environments can achieve enterprise-grade backup resilience. ","date":"2025-07-13","objectID":"/posts/veeam-repo/:10:0","tags":["Veeam","MinIO","Synology","Backup","S3","Docker"],"title":"Veeam Local Repositories in Practice: Hardened Linux, MinIO S3, iSCSI over WireGuard on Synology NAS","uri":"/posts/veeam-repo/"},{"categories":["Backup","Infrastructure"],"content":"🔐 Veeam Backup: Best Practices and Configuration Guide Veeam Backup \u0026 Replication is a powerful tool for protecting your data across virtual, physical, and cloud environments. This article focuses on key architectural decisions, backup security best practices, and real-world deployment scenarios. ","date":"2025-06-26","objectID":"/posts/veeam/:0:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"🔐 Secure Backup with Immutability Why This Matters Immutability is the foundation of a secure backup strategy. It protects your backups from ransomware, human error, and malicious insiders by making data undeletable for a defined retention period. ","date":"2025-06-26","objectID":"/posts/veeam/:1:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"1.1 ✨ Use Immutable Storage ▶ Recommended Linux Configuration # Format disk with reflink support sudo mkfs.xfs -m reflink=1 /dev/sdb sudo mkdir -p /mnt/veeam sudo mount /dev/sdb /mnt/veeam # Create hardened backup user sudo useradd -m -s /sbin/nologin veeamrepo sudo chown veeamrepo: /mnt/veeam Use XFS with reflink for Veeam immutability Mount target to /mnt/veeam Configure in Veeam as “Hardened Repository” Best Practice Never use root for backup repositories. Harden access with non-root accounts and disable SSH password login. ","date":"2025-06-26","objectID":"/posts/veeam/:1:1","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"1.2 🔒 S3 Object Lock \u0026 Retention ▶ Setup S3 Bucket with Object Lock (e.g., MinIO, AWS) Create a bucket with Object Lock enabled Enable Versioning Set default retention policy (e.g., 30 days) # Example with MinIO Client mc alias set minio https://minio.example.com minioadmin minioadmin mc retention set --default GOVERNANCE 30d minio/veeam --insecure Security Tip Assign write-only access for Veeam user to prevent accidental or malicious deletions. ","date":"2025-06-26","objectID":"/posts/veeam/:1:2","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"1.3 🔄 Apply the 3-2-1-1-0 Rule Backup Strategy 3 copies of data (1 production + 2 backups) 2 different media types (e.g., disk + object storage) 1 offsite backup 1 immutable copy 0 errors after recovery verification (e.g., SureBackup) ","date":"2025-06-26","objectID":"/posts/veeam/:1:3","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"1.4 🔐 Limit Access \u0026 Isolate Backup Networks ▶ Network \u0026 Identity Hardening Use separate credentials for: Backup console Repositories Hypervisors S3 buckets Protect backup console with: Multi-Factor Authentication (2FA) Role-Based Access Control (RBAC) Isolate repository access with: VLAN segmentation Firewall rules SSH key-only access Do Not Never expose repositories directly to the internet. Backup data should only be reachable via secured Veeam components. ","date":"2025-06-26","objectID":"/posts/veeam/:1:4","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"1.5 📊 Monitoring \u0026 Patching ▶ Stay Ahead of Threats Enable email notifications for job results and warnings Regularly review backup logs and audit access Apply Veeam updates and patches promptly Integrate with monitoring platforms (e.g., Zabbix, Icinga) Pro Tip Schedule periodic restore tests and SureBackup jobs to validate recovery integrity. ","date":"2025-06-26","objectID":"/posts/veeam/:1:5","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"⚙️ Initial Setup of Veeam B\u0026R Overview Before configuring backup jobs, Veeam must be properly installed and its infrastructure components set up. This includes the main server, proxies, repositories, and connections to hypervisors. ","date":"2025-06-26","objectID":"/posts/veeam/:2:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"2.1 🖥 Install Veeam Backup \u0026 Replication ▶ System Requirements Operating System: Windows Server 2016 or newer SQL Server: Use built-in SQL Express or an external instance Hardware: 2+ vCPUs 8+ GB RAM (16 GB recommended) SSD for configuration and database preferred ▶ Installation Steps Download Veeam B\u0026R ISO Mount ISO and run Setup.exe Choose Backup \u0026 Replication Follow the wizard and install: Veeam Backup Service Console Explorers Transport \u0026 Catalog Services ","date":"2025-06-26","objectID":"/posts/veeam/:2:1","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"2.2 🧱 Add Backup Infrastructure ▶ Add Hypervisors Go to Backup Infrastructure \u003e Managed Servers Add: VMware vCenter Server or Microsoft Hyper-V hosts Use service accounts with minimal required permissions. ▶ Add Backup Proxies Navigate to Backup Infrastructure \u003e Backup Proxies Add Windows Server (VM or physical) Assign transport mode: Direct SAN Access Hot-Add (for VMware) Network (NBD) ▶ Add Repositories Supported types: ✅ Linux repo (XFS + reflink for immutability) ✅ Windows repo (ReFS for fast clone) ✅ NAS (SMB/NFS, no immutability) ✅ S3-compatible object storage Use the appropriate wizard to configure credentials and paths. ","date":"2025-06-26","objectID":"/posts/veeam/:2:2","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"2.3 📦 Create Backup Jobs ▶ Job Configuration Steps Go to Home \u003e Jobs \u003e Backup Job (VMs) Choose source: VMs, physical agents, or NAS Select a repository (e.g., Hardened Linux, S3, iSCSI) Set backup mode: Incremental Forever Forward Incremental Define retention policy (e.g., 14 restore points) (Optional) Enable: Synthetic Full backups Health Checks Backup Copy Best Practice Assign each job to a repository that matches its role: fast storage for daily, immutable for long-term. ","date":"2025-06-26","objectID":"/posts/veeam/:2:3","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"2.4 ⚙️ Enable Optional Jobs ▶ Optional Job Types Backup Copy Job For offsite or secondary backup SureBackup Job Automatically boots and verifies backups Replication Job Creates hot standby VMs at DR location ","date":"2025-06-26","objectID":"/posts/veeam/:2:4","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"2.5 🔍 Monitor and Test ▶ Recommended Monitoring Enable email notifications Check job logs and statistics regularly Integrate with external monitoring (Zabbix, Icinga) ▶ Restore Testing Options Full VM restore File-level restore Application-item restore (Exchange, SQL, etc.) Instant VM Recovery Schedule test restores at least once per month. ","date":"2025-06-26","objectID":"/posts/veeam/:2:5","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"💾 Choosing the Right Repository Choosing the correct repository type is fundamental to achieving the right balance of performance, cost-efficiency, immutability, and remote readiness. Repository Types Explained Veeam supports a variety of repository types that differ in performance, immutability, remote access, and compliance readiness. ","date":"2025-06-26","objectID":"/posts/veeam/:3:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"3.1 🗃️ Common Repository Types ReFS (Windows) ✅ Fast clone support ❌ No immutability ⚠️ Needs VPN for remote usage XFS (Linux) ✅ Reflink support ✅ Immutability (when used in hardened mode) ❌ No native remote access Hardened Linux Repository 🔐 Secure non-root access ✅ Immutability with XFS ❌ Requires SSH (not S3-compatible) NAS (SMB/NFS) 🟡 Easy to set up ❌ No immutability ✅ Can be remote (mountable) S3-Compatible (MinIO, AWS, Wasabi) ✅ Object Lock ✅ Versioning ✅ TLS support ✅ Ideal for long-term, remote, immutable storage iSCSI over VPN (e.g., via WireGuard) ✅ Block-level performance ✅ Remote access ⚠️ Needs manual configuration and secure tunneling ","date":"2025-06-26","objectID":"/posts/veeam/:3:1","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"3.2 📊 Repository Comparison Table Repository Type Fast Clone Immutability Remote-Ready TLS R3FS (Windows) ✅ ❌ ⚠️ (VPN req.) ❌ XFS (Linux) ✅ ✅ (hardened) ❌ ❌ S3 (MinIO/AWS/Wasabi) ❌ ✅ ✅ ✅ NAS (SMB/NFS) ❌ ❌ ✅ ❌ 🛡️ Immutability Options Linux Hardened Repo: ✅ (XFS + reflink) S3 with Object Lock: ✅ (MinIO, AWS, Wasabi) Windows ReFS: ❌ SMB/NFS: ❌ Recommendations Use Hardened Linux Repo for on-prem immutable storage Use S3 with Object Lock for offsite long-term protection Avoid NAS or standard Windows ReFS for critical or immutable backup chains ","date":"2025-06-26","objectID":"/posts/veeam/:3:2","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"🚀 Backup Copy Jobs (Offsite Protection) A Backup Copy Job is essential for offsite disaster recovery. It allows you to replicate your primary backups to a secondary location — protecting against ransomware, hardware failure, or site outages. Use Case You’re backing up VMs to a local repository (e.g., Windows ReFS or NAS) and want to replicate them to an offsite, immutable Hardened Linux Repository. ","date":"2025-06-26","objectID":"/posts/veeam/:4:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"4.1 🛡 Why Use Hardened Linux ✅ Immutable storage with XFS + reflink 👤 Non-root user, no interactive shell 🔐 Resilient against ransomware — even if Veeam is compromised ","date":"2025-06-26","objectID":"/posts/veeam/:4:1","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"4.2 🔧 Configuration Steps ▶ Step 1: Prepare the Hardened Linux Repository # Format the disk sudo mkfs.xfs -m reflink=1 /dev/sdb sudo mount /dev/sdb /mnt/veeam # Create veeamrepo user sudo useradd -m -s /sbin/nologin veeamrepo sudo chown veeamrepo: /mnt/veeam ✅ Enable SSH key login ✅ Grant temporary sudo during setup 🔒 Disable password auth after configuration ▶ Step 2: Add Repository to Veeam Go to Backup Infrastructure \u003e Backup Repositories \u003e Add Repository Choose Linux Hardened Repository Enter: IP address SSH credentials Public key path Set mount path (e.g. /mnt/veeam) Enable Immutability (e.g., 30 days) ▶ Step 3: Create the Backup Copy Job Navigate to Home \u003e Backup Copy \u003e Backup Copy Job (VMs) Select the primary job as source Choose Hardened Linux Repository as target Set: Immediate copy mode: ✅ (optional) Copy every 12 h, retain 7 restore points 4.3 💡 Best Practices Best Practices 🧪 Enable Health Checks to validate copy integrity 🔄 Use WAN Accelerators if bandwidth is limited ⏳ Keep immutable retention longer than source (e.g., 30 days vs 14 days) 📬 Enable email alerts on failure 4.4 📌 Summary Summary 🔐 Backup Copy Jobs + Hardened Repo = Secure Offsite Copies 🧱 Protects against ransomware \u0026 data loss ☑️ Meets the 3-2-1-1-0 backup rule 🔁 Runs automatically, no scripting required ","date":"2025-06-26","objectID":"/posts/veeam/:4:2","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"📆 Scale-Out Backup Repository (SOBR) A SOBR (Scale-Out Backup Repository) combines multiple backup repositories into a single logical unit. This allows flexible storage tiering, improved performance, and simplified management. Use Case Daily backups go to a local NAS (iSCSI, ReFS 64 KB), while older backups are moved to a remote MinIO S3 bucket with Object Lock enabled. ","date":"2025-06-26","objectID":"/posts/veeam/:5:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"5.1 🧱 Tiered Storage Strategy Performance Tier 📍 Local NAS with iSCSI mount 📁 ReFS formatted with 64 KB block size ⚡ High-speed storage for daily restore operations Capacity Tier 🌐 Remote MinIO S3 bucket 🔐 Object Lock + versioning enabled 🗄 Ideal for long-term archival and compliance with immutability ","date":"2025-06-26","objectID":"/posts/veeam/:5:1","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"5.2 🔧 SOBR Configuration Steps ▶ Step 1: Create Individual Repositories Format the local NAS volume with ReFS 64 KB Add it to Veeam as a Direct Attached Repository Deploy MinIO: Enable TLS, versioning, and Object Lock Create the S3 bucket for backups Add the bucket to Veeam as an S3-Compatible Object Repository Enable immutability (e.g., 30 days Governance mode) ▶ Step 2: Create and Configure the SOBR Navigate to Backup Infrastructure \u003e Scale-Out Repositories Click Add SOBR Set a name (e.g., SOBR-Primary-Remote) Add: Local ReFS repo as the Performance Tier MinIO S3 repo as the Capacity Tier Enable the following options: ✅ Move backups older than 14 days to capacity ✅ Copy backups as soon as they are created (optional) ✅ Support immutability on capacity tier ","date":"2025-06-26","objectID":"/posts/veeam/:5:2","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"5.3 📊 SOBR Benefits Why Use SOBR? 🚀 Automatically tier backups based on age or policy 🌐 Combines high-performance local storage with remote S3 storage 🔐 Enables compliance with immutability and offsite protection ⚙️ Simplifies management without scripting ","date":"2025-06-26","objectID":"/posts/veeam/:5:3","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"🧠 Setting Up Efficient Backup Proxies Backup Proxies in Veeam act as data movers between the source (e.g., hypervisors) and the backup repositories. A well-configured proxy infrastructure is essential for performance, scalability, and job reliability. What Is a Proxy? A backup proxy retrieves data from the source (e.g., VMware, Hyper-V), processes it (compression, deduplication, encryption), and sends it to the backup repository. Proxies reduce load on the main backup server. ","date":"2025-06-26","objectID":"/posts/veeam/:6:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"6.1 🧩 Default vs Additional Proxies By default, the Veeam Backup Server acts as a proxy In larger or distributed environments, additional proxies are highly recommended Multiple proxies allow parallel job processing and workload isolation ","date":"2025-06-26","objectID":"/posts/veeam/:6:1","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"6.2 ⚙️ Add and Configure Proxies ▶ Step 1: Add a New Proxy Open Veeam Backup \u0026 Replication Console Go to Backup Infrastructure \u003e Backup Proxies Click Add Proxy Choose: Platform: VMware vSphere or Microsoft Hyper-V Server: Select existing Windows Server or deploy automatically ▶ Step 2: Configure Transport Mode Modes: 🔄 Automatic – Veeam chooses the best mode 📦 Direct SAN Access – best for fibre/iSCSI environments 🔧 Virtual Appliance (Hot-Add) – efficient for virtual proxies 🌐 Network (NBD/NFS) – fallback, least efficient Set maximum concurrent tasks based on CPU/RAM (e.g., 4–8) ","date":"2025-06-26","objectID":"/posts/veeam/:6:2","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"6.3 🔍 Monitoring and Scaling Proxy Scaling Tips Place proxies close to production storage for better performance Use dedicated proxies instead of sharing with repositories For distributed sites, deploy proxies locally Monitor proxy usage in job stats and scale accordingly Use DRS affinity rules in clusters to optimize job placement Recommended Platforms ✅ Windows Server 2019+ is stable and performant 🧪 Linux proxies are available in experimental mode (CLI only) ","date":"2025-06-26","objectID":"/posts/veeam/:6:3","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"🌐 Optimizing WAN Transfers with Accelerators Veeam WAN Accelerators optimize backup data transfer across slow or unreliable WAN links. They are especially useful for Backup Copy Jobs to remote sites or disaster recovery (DR) locations. When to Use WAN Acceleration Use WAN Accelerators when transferring backup data between sites with limited bandwidth, high latency, or inconsistent connectivity. ","date":"2025-06-26","objectID":"/posts/veeam/:7:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"7.1 🚀 What WAN Accelerators Do 🔁 Global deduplication: Avoids re-sending already transferred blocks 🗂 Global cache: Stores repeated data patterns 📦 Compression \u0026 optimization: Minimizes bandwidth usage 📉 Traffic reduction: Up to 50x savings on repeated transfers ","date":"2025-06-26","objectID":"/posts/veeam/:7:1","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"7.2 ⚙️ How to Configure WAN Acceleration ▶ Step 1: Prepare the Accelerator Server Use a dedicated Windows Server (physical or VM) Recommended resources: 2+ vCPU 4+ GB RAM Fast disk (SSD/NVMe) for cache (e.g., 40–100 GB) ▶ Step 2: Add WAN Accelerators in Veeam Go to Backup Infrastructure \u003e WAN Accelerators Click Add WAN Accelerator Select your Windows server Define: Cache path (dedicated volume preferred) Cache size (recommend 1–3% of protected data) Max concurrent tasks Repeat this step for both source and target sites. ▶ Step 3: Use in Backup Copy Job Edit or create a Backup Copy Job In the Data Transfer step: Enable Use WAN Accelerators Select: Source WAN Accelerator (e.g., local site) Target WAN Accelerator (e.g., remote site) Complete job configuration ","date":"2025-06-26","objectID":"/posts/veeam/:7:2","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"7.3 💡 Best Practices Tips for Efficient WAN Transfers 🧠 Place WAN Accelerators close to the repository 💽 Use a separate disk for cache — not shared with OS or backups 🛡 Enable TLS or VPN if WAN is untrusted 📊 Monitor cache health and usage via Veeam UI 🧪 Test throughput before and after to confirm benefit Edition Requirement WAN acceleration is available only in Veeam Enterprise or Enterprise Plus editions. ","date":"2025-06-26","objectID":"/posts/veeam/:7:3","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["Backup","Infrastructure"],"content":"📝 Final Recommendations ✅ Plan for 3-2-1-1-0 strategy. ✅ Always use immutability. ✅ Test restores monthly. ✅ Secure credentials and infrastructure. ✅ Enable alerts, health checks, and patch regularly. A well-designed Veeam deployment delivers security, scalability, and disaster resilience — even for small environments. ","date":"2025-06-26","objectID":"/posts/veeam/:8:0","tags":["Veeam","Backup","Immutability","S3","Linux","Security"],"title":"Veeam Backup: Best Practices and Configuration Guide","uri":"/posts/veeam/"},{"categories":["networking"],"content":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support If your NAS or Linux host does not support the WireGuard kernel module — like the Synology DS220+ — you can still run a secure WireGuard tunnel using Docker and wireguard-go. This article walks you through the full setup with downloadable examples and scripts. ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:0:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🫠 Why This Setup? Many embedded Linux systems (e.g., Synology NAS, LXC, OpenVZ VPS) lack support for kernel modules like wireguard.ko. Fortunately, the Go-based wireguard-go project allows running WireGuard entirely in user space. When combined with Docker, it enables a portable and rootless VPN tunnel. ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:1:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🔧 What You’ll Achieve A working WireGuard VPN tunnel inside a Docker container Fully functional without kernel support Persistent setup for backup, replication, or remote access Ready-to-use configuration and generation scripts ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:2:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"📚 Requirements Synology DS220+ (or similar Linux NAS) Docker and SSH/root access x86_64 architecture (for the provided binary) ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:3:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"📁 Folder Structure wg-peer/ ├── Dockerfile ├── docker-compose.yml ├── entrypoint.sh ├── wireguard-go # Precompiled user-space binary ├── wg0.conf # WireGuard peer config ├── genkeys.sh # Key + config generator ├── install.sh # Curl-based installer ├── watchdog_wg.sh # Optional cron watchdog ├── README.md ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:4:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🚀 Quick Setup Before starting the tunnel, follow these steps to prepare the environment. ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:5:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"✅ 1. Download Files Use the install script to download all necessary files: curl -fsSL https://run.topli.ch/docker/wg-peer/install.sh | bash cd wg-peer ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:5:1","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🔐 2. Generate WireGuard Keys Run the key generation script: ./genkeys.sh This will: Generate a PrivateKey and PublicKey using a temporary container Save a template wg0.conf file in the current directory ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:5:2","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"✍️ 3. Edit wg0.conf Open the generated file and update the following: PublicKey of your WireGuard server Endpoint — IP or domain of the server (e.g. vpn.example.com:51820) Optional: update Address or AllowedIPs to match your network ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:5:3","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🌐 4. Ensure Network Access Make sure: UDP port 51820 (or the one used) is open on your server The system supports --privileged Docker containers Host network mode is available (network_mode: host) ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:5:4","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"▶️ 5. Start the Tunnel Now you can build and run the container: docker-compose up -d --build To check if the tunnel is working: docker exec -it wg-peer wg show ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:5:5","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🛀 Example wg0.conf [Interface] PrivateKey = \u003cyour_private_key\u003e Address = 10.10.1.6/32 [Peer] PublicKey = \u003cserver_public_key\u003e Endpoint = \u003cyour-server-ip\u003e:51820 AllowedIPs = 0.0.0.0/0 PersistentKeepalive = 25 ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:6:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🚚 Launch Container Manually If not using docker-compose, run manually: docker build -t wg-peer . docker run -d --name wg-peer --privileged --network host wg-peer Use --privileged and --network host to allow full tunnel capabilities. ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:7:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🧾 View Logs and Debug To view logs from the running container: docker logs wg-peer To enter the container’s shell (for inspection or testing): docker exec -it wg-peer bash From inside the container, you can also run: wg show to check tunnel status directly. ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:8:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"♻️ Clean Shutdown \u0026 Restart docker stop wg-peer docker start wg-peer ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:9:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🛡 Watchdog via Cron (optional) Monitor tunnel health and auto-restart if down: crontab -e Add: */5 * * * * /path/to/wg-peer/watchdog_wg.sh \u003e\u003e /var/log/wg-watchdog.log 2\u003e\u00261 ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:10:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🔧 Manually Compile wireguard-go (if needed) apt install -y golang git git clone https://git.zx2c4.com/wireguard-go cd wireguard-go go build cp wireguard /usr/bin/wireguard-go chmod +x /usr/bin/wireguard-go ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:11:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":["networking"],"content":"🔗 Useful Links 🔐 WireGuard Documentation 📂 GitHub Source Files 📅 Install Script 🔐 Full README ️⃣ Need help with customization or scaling? Reach out via blog.topli.ch or GitHub. © 2025 run.topli.ch ","date":"2025-06-09","objectID":"/posts/wireguard-docker/:12:0","tags":["WireGuard","Docker","Networking","Synology","NAS","VPN","Userspace","DevOps"],"title":"How to Run a WireGuard Tunnel Inside a Docker Container Without Kernel Support","uri":"/posts/wireguard-docker/"},{"categories":null,"content":"1. Creating and Configuring a VMware Cluster ┌ │ └ ─ ─ ─ E ─ ─ S ─ ─ X ─ ┌ ▼ i ─ ─ ─ ─ ─ ─ 1 ─ ─ ─ ─ ┌ │ │ └ ─ ┐ │ ┘ ─ ─ ─ ─ [ ─ ─ ─ D ─ ─ ─ V R ─ ─ ─ M S ─ ─ ─ w ─ ─ ─ a + ─ ─ ─ r ─ ─ [ ─ e H ─ ─ . - A ┬ ┼ ▼ . ─ C ─ ─ . ─ l + ─ ─ ] ─ u ─ ─ ─ s v ─ ─ ─ t S ─ ─ ─ e A ─ ─ ─ r N ─ ─ ─ ] ─ ─ ─ ─ ─ ┐ │ │ ┘ ─ ┌ │ └ ─ ─ ─ ─ ─ E ─ ─ ─ S ─ ┐ ▼ X ─ ─ i ─ ─ ─ ─ N ─ ─ ─ ┐ │ ┘ Creating a cluster in VMware vCenter is the foundational step for enabling features like High Availability (HA), Distributed Resource Scheduler (DRS), and vSAN. This section will guide you through the basic steps to create a production-ready cluster and connect ESXi hosts. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:1:0","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"📌 Prerequisites A functioning vCenter Server instance. At least 2 ESXi hosts (3+ recommended for full vSAN functionality). Proper IP connectivity between hosts and vCenter. DNS resolution working across the environment. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:1:1","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🛠 Step-by-Step: Cluster Creation Log into vCenter using the vSphere Web Client. In the left navigation pane, right-click your Datacenter and choose: New Cluster Provide a meaningful name for your cluster (e.g., Production-Cluster). Enable the following features: ✅ DRS – Automatically balances workloads between hosts. ✅ HA – Ensures VM restart in case of host failure. ✅ vSAN – Enables distributed storage (if applicable). Click Next and complete the wizard. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:1:2","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"➕ Adding Hosts to the Cluster After the cluster is created: Select the cluster name, then click Add Hosts. Provide the hostname/IP of each ESXi server. Enter root credentials and validate the connection. Review and confirm SSL thumbprint. Finish the wizard to add the host. Repeat this step for each ESXi host in your environment. ⚠️ If your ESXi hosts already contain virtual machines and vSwitches, ensure you migrate networking and storage configurations appropriately before or after adding them to the cluster. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:1:3","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"✅ Initial Cluster Configuration After adding the hosts, you can further configure the cluster: Configure host licensing. Review network redundancy (dual NICs recommended). Set up vMotion and VMkernel adapters. (Optional) Prepare for vSAN or shared storage. Enable EVC (Enhanced vMotion Compatibility) if mixing CPU generations. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:1:4","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🎯 Best Practices Name the cluster based on its function: Mgmt-Cluster, App-Cluster, Test-Cluster, etc. Always validate hardware compatibility via the VMware Compatibility Guide. Maintain identical ESXi versions across all hosts. Ensure time synchronization (NTP) is properly set across all nodes. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:1:5","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"2. Configuring vDS and Network Design ┌ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ └ ─ ─ ─ ─ ─ ─ v v ─ P V V v M S ─ P V v v M S ─ P V v v M S v ─ ─ m m ─ o L M m T e ─ o L M m T e ─ o L M m T e S ─ ─ n n ─ r A k k U r ─ r A k k U r ─ r A k k U r A ─ ─ i i ─ t N e 0 : v ─ t N e 1 : v ─ t N e 1 : v N ─ ─ c c ─ r i ─ r i ─ r i , ─ ─ E 0 1 ─ G I n : 1 c ─ G I n : 9 c ─ G I n : 9 c ─ ─ S ─ r D e 5 e ─ r D e 0 e ─ r D e 0 e v ─ ─ X ─ o l 1 0 s ─ o : l 1 0 s ─ o : l 1 0 s S ─ ─ I ─ u : 9 0 : ─ u 9 0 : ─ u 9 0 : A ─ ─ ─ p P 2 ─ p 2 P 2 ─ p 3 P 2 N ─ ─ 1 U U ─ : o . M ─ : 0 o . v ─ : 0 o . ─ ┌ │ │ │ │ │ │ └ ┌ │ ▼ ─ p p ─ r 1 a ─ r 1 M ─ r 1 W ─ ─ ─ ─ ─ ─ l l ─ v 1 t 6 n ─ v t 6 o ─ v t 6 i ─ ─ ─ N v v ─ ─ ─ i i ─ D 0 s 8 a ─ D s 8 t ─ D s 8 t ─ ─ ─ a D D ─ ─ ─ n n ─ S . g ─ S . i ─ S . n ─ ─ ─ m S S ─ ─ ─ k k ─ _ 1 e ─ _ 2 o ─ _ 3 e ─ ─ ─ e _ _ ─ ─ ─ ─ M 0 m ─ v 0 n ─ v 0 s ─ ─ ─ M W ─ ─ ─ 1 2 ─ G . e ─ M . ─ S . s ─ ─ ─ G A ─ ─ ─ ─ M 1 n ─ o 1 ─ A 1 ─ ─ ─ M N ─ ─ ─ ─ T 1 t ─ t 1 ─ N 1 ─ ─ ─ T ─ ─ ─ ─ ─ ─ ─ ┌ │ │ │ └ ┌ │ │ │ └ ─ ─ ─ ─ ┐ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ ┘ ─ ─ ─ ─ ─ ─ ─ V 1 1 ─ ─ ─ ( ─ ─ ─ U ─ ─ ─ L 0 0 ─ ─ ─ D ─ ─ ─ p ─ ─ ─ A 0 ─ ─ ─ i ─ ─ ─ l ─ ─ ─ N ─ ─ ─ s ─ ─ ─ i ─ │ ▼ ─ ─ ─ ─ ─ t ─ ─ ─ n ─ ─ P ─ M 1 1 ─ ─ ─ r ─ ─ ─ k ─ ─ o ─ T 5 5 ─ ─ ─ v i M ─ ─ U ─ ─ ─ r ─ U 0 0 ─ ─ ─ D b T ─ ─ p ─ 1 ─ ─ t ─ 0 0 ─ ─ [ ─ S u U ─ ─ l ─ ─ ─ ─ ─ ─ . ─ _ t : ┬ │ ▼ ─ i ┐ │ ─ ─ G ─ │ │ │ │ ─ │ ┼ │ ▼ . ─ M e ─ ─ n ─ ─ ─ r ─ ─ ─ . ─ a d 9 ─ ─ k ─ U ─ ─ o ─ N v v v ─ ─ ] ─ i 0 ─ ─ s ─ p ─ ─ u ─ a D D D ─ ─ ─ n S 0 ─ ─ ─ l ─ ─ p ─ m S S S ─ ─ ─ w 0 ─ ─ ─ i ─ ─ s ─ e _ _ _ ─ ─ ─ i ─ ─ ─ n ─ ─ ─ v v L ─ ─ ─ t ─ ─ ─ k ─ │ ▼ ─ ─ M S A ─ ─ ─ c ─ ─ ─ ─ ─ ─ o A N ─ ─ ─ h ─ ─ ─ 2 ─ ─ ─ t N ─ ─ ─ ) ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ V 2 3 2 ─ ─ ┌ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ └ ┐ │ │ │ ┘ ┐ │ │ │ ┘ ─ ─ L 0 0 0 ─ ─ ─ ─ ─ ─ ─ ─ ─ A 0 ─ ─ ─ v v ─ P V v v M S ─ P V v v M S ─ P V v v M S v ─ ─ ─ N ─ ─ ─ m m ─ o L M m T e ─ o L M m T e ─ o L M m T e S ─ ─ ─ ─ ─ ─ n n ─ r A k k U r ─ r A k k U r ─ r A k k U r A ─ ─ ─ M 9 9 1 ─ ─ ─ i i ─ t N e 1 : v ─ t N e 1 : v ─ t N e 1 : v N ─ ─ ─ T 0 0 5 ─ ─ ─ c c ─ r i ─ r i ─ r i , ─ ─ ─ U 0 0 0 ─ ─ ─ E 0 1 ─ G I n : 1 c ─ G I n : 9 c ─ G I n : 9 c ─ ─ ─ 0 0 0 ─ ─ ─ S ─ r D e 5 e ─ r D e 0 e ─ r D e 0 e v ─ ─ ─ ─ ─ ─ X ─ o : l 1 0 s ─ o : l 1 0 s ─ o : l 1 0 s S ─ ┐ │ │ │ │ │ │ ┘ ┐ │ ▼ ─ I ─ u 9 0 : ─ u 9 0 : ─ u 9 0 : A ─ ─ ─ p 1 P 2 ─ p 2 P 2 ─ p 3 P 2 N ─ ─ N U U ─ : 0 o . M ─ : 0 o . v ─ : 0 o . ─ ─ p p ─ r 1 a ─ r 1 M ─ r 1 W ─ ─ l l ─ v t 6 n ─ v t 6 o ─ v t 6 i ─ ─ i i ─ D s 8 a ─ D s 8 t ─ D s 8 t ─ ─ n n ─ S . g ─ S . i ─ S . n ─ ─ k k ─ _ 1 e ─ _ 2 o ─ _ 3 e ─ ─ ─ M 0 m ─ v 0 n ─ v 0 s ─ ─ 1 2 ─ G . e ─ M . ─ S . s ─ ─ ─ M 1 n ─ o 1 ─ A 1 ─ ─ ─ T N t ─ t N ─ N N ─ ─ ─ ─ ─ ─ ┐ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ │ ┘ A Distributed Switch (vDS) provides centralized management of networking across all ESXi hosts in your cluster. It enables consistent configuration of port groups, VMkernel adapters, and uplinks. This section walks you through the setup of a minimal but robust networking environment. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:2:0","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🎯 Recommended Network Design (Minimal Topology) For a basic production cluster with two ESXi hosts and one vCenter, the following roles should be isolated logically (or via VLANs): Traffic Type Interface Purpose Example VLAN Example IP Address Management vCenter \u0026 ESXi control VLAN 10 192.168.10.x vMotion Live VM migration VLAN 20 192.168.20.x vSAN Storage traffic VLAN 30 192.168.30.x VM Network (LAN) Internal services/apps VLAN 100 192.168.100.x VM Network (WAN) External/Internet-bound VLAN 200 192.168.200.x Each host should have at least 2 physical NICs. Use NIC teaming or dedicate one NIC per role (preferred for performance and fault tolerance). ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:2:1","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🛠 Step-by-Step: Creating a vDS In the vSphere Web Client, right-click the Datacenter → Distributed Switch → New Distributed Switch. Set: Name: vDS_Main Version: Match your ESXi version (e.g., 8.0.0) Number of Uplinks: 2 (adjust if more NICs) Enable Network I/O Control Click Finish. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:2:2","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"➕ Add Hosts to the vDS Select the newly created vDS_Main. Right-click → Add and Manage Hosts → Add Hosts. Select the ESXi hosts from your cluster. Map each uplink to a physical NIC on the host: Uplink1 → vmnic0 Uplink2 → vmnic1 ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:2:3","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🌐 Create Distributed Port Groups Each logical network gets its own port group. Name VLAN ID Description vDS_MGMT 10 Management / vCenter traffic vDS_VSAN 30 vSAN storage replication vDS_VMOT 20 vMotion traffic vDS_LAN 100 Internal VM traffic vDS_WAN 200 External traffic (if needed) Use descriptive names for each port group and match the correct VLAN ID based on your switch configuration. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:2:4","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🧠 Configure VMkernel Adapters For each ESXi host: Go to Host → Configure → VMkernel Adapters → Add VMkernel Adapter. Create one adapter per role: Port Group IP Address Services Enabled vDS_MGMT 192.168.10.11 ✅ Management vDS_VMOT 192.168.20.11 ✅ vMotion vDS_VSAN 192.168.30.11 ✅ vSAN Use separate subnets and gateways where required. The vSAN and vMotion interfaces typically have no default gateway. Repeat for other hosts with: .12 for Host 2 .13 for Host 3 (if any) ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:2:5","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"💡 Best Practices Separate critical services (Management, vSAN, vMotion) into different VLANs or physical NICs. Use LACP or Active/Standby NIC teaming for redundancy. Enable Network I/O Control to prioritize traffic types. Always label your Port Groups clearly — consistent naming saves time during troubleshooting. For 3+ hosts, consider dedicating NICs solely for vSAN performance. Next up, we’ll dive into setting up vSAN, including disk claiming, witness host deployment, and storage policy configuration. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:2:6","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"3. vSAN Setup and Configuration ┌ │ │ │ │ └ ─ ─ ─ ─ E ─ L - ─ ─ S ─ o ─ ─ X ─ c S ─ ─ i ─ a S ─ ─ ─ l D ─ ┌ │ ▼ H ─ ┬ │ └ ─ ─ o ─ D / ─ ─ ─ ─ s ─ i ─ ─ ─ ─ t ─ s H ─ ─ ─ ─ ─ k D ─ ─ ─ ─ 1 ─ s D ─ ─ ─ ─ A ─ ─ ─ ┌ │ │ └ ─ ─ ─ ─ ─ ─ ─ ─ ┐ │ │ │ │ ┘ ─ ─ ( ─ ─ ┌ │ │ │ │ └ ─ ─ F ─ ─ ─ ─ ─ ─ ─ a ─ ─ ─ E ─ L - ─ ─ ─ u ─ ─ ─ S ─ o ─ ─ ─ l ─ ─ ─ X ─ c S ─ ─ ─ S t ─ ─ ─ i ─ a S ─ ─ ─ i ─ ─ ─ ─ l D ─ ─ ┌ │ └ ┌ │ ▼ t D ┬ ┼ │ ▼ H ─ ┬ └ ─ ─ ─ ─ ─ e o ─ ─ ─ o ─ D / ─ ─ ─ ─ V ─ ─ ─ m ─ ─ ─ s ─ i ─ ─ ─ ─ M ─ ─ ─ A a ─ ─ ─ t ─ s H ─ ─ ─ ─ ─ ─ ─ i ─ ─ ─ ─ k D ─ ─ ─ ─ o ─ ─ ─ n ─ ─ ─ 2 ─ s D ─ ─ ─ ─ n ─ ─ ─ ─ ─ ─ A ─ ─ ─ ─ ─ ─ ─ ─ A ─ ─ ─ ─ ─ ─ ─ ─ H ─ S ─ ─ ) ─ ─ ┐ │ │ │ │ ┘ ─ ─ ┌ │ │ └ ─ o ─ t ─ ─ ─ ─ ┌ │ │ │ │ └ ─ ─ ─ ─ ─ s ─ ( r ─ ┐ │ │ ┘ ─ ─ ─ ─ ─ ┐ ▼ ─ ─ t ─ V e ┌ │ │ ┼ └ ─ ─ E ─ L - ─ ─ ─ ─ ─ ─ i t ─ ─ ─ ─ S ─ o ─ ─ ─ ─ ─ 1 ─ r c ─ W ─ ─ ─ X ─ c S ─ ┐ │ ▼ ─ ─ ─ t h ─ i ─ ─ ─ i ─ a S ─ ─ ─ ┐ ┼ ┘ u e ─ t ─ ─ ─ ─ l D ─ ─ ─ ─ a d ─ n ─ ┐ │ ▼ H ─ ┬ │ │ ▼ f ─ ─ l ─ W e ─ R B ─ o ─ D / ─ ─ o ─ ─ C ─ i s ─ A e ─ s ─ i ─ ─ r ─ ─ S l ─ t s ( ─ I t ─ t ─ s H ─ ─ ─ ─ V t u ─ n q ─ D w ─ ─ k D ─ ─ v a ─ ─ M o s ─ e h u ─ - e ─ 3 ─ s D ─ ─ S l ▲ │ ┘ w r t ─ s o o ─ 1 e ─ A ─ ─ ─ A l ─ a a e ─ s l r ─ n ─ ─ ─ ─ N ─ r g r ─ d u ─ R ┐ │ │ │ │ ┘ ─ V ─ [ e e ─ A s m ─ e S ─ D M ─ . a ─ p ─ p i ─ a s ▲ │ │ . v A n ─ p m ─ l t ┌ │ │ │ │ └ ─ t ─ . S r d ─ l e o ─ i e ─ ─ ─ ─ a i ─ ] A e ─ i t t ─ c s ─ E ─ L - ─ ─ s n ─ N a F ─ a a e ─ a ─ S ─ o ─ ─ t ─ a ─ n d ) ─ t A ─ X ─ c S ─ ─ o c ▲ │ └ N u ─ c a ─ i ─ i ─ a S ─ ─ r l ─ ─ e l ─ e t ─ B ─ ─ l D ─ ─ e u ─ ─ t t ─ a ─ n ┌ │ ▼ H ─ ┬ │ │ ▼ s ─ ─ w ─ ─ ─ ─ o ─ D / ─ ─ t ─ ─ o D ─ o ─ ─ ─ s ─ i ─ ─ e ─ ─ r o ─ n ─ ─ ─ t ─ s H ─ ┌ │ ▼ r ─ ─ k m ─ l ─ ─ ─ ─ k D ─ ─ ─ ─ ─ ) a ─ y ─ ─ ─ 1 ─ s D ─ ─ ─ ─ ┌ ┼ └ i ┐ │ │ ┼ ┘ ─ ─ B ─ ─ ─ ┌ ▼ ─ ─ ─ n ─ ┌ │ │ └ ─ ─ ─ ─ ─ ─ ─ ─ ─ V ─ s ─ ─ ─ ─ ┐ │ │ │ │ ┘ ─ ─ ┐ │ │ ┘ ─ M ─ ─ ─ ( ─ ─ ┌ │ │ │ │ └ ─ ─ ─ ─ ─ ─ F ─ ─ ─ ─ ─ ─ ─ ─ o ─ ─ ─ a ─ ─ ─ E ─ L - ─ ─ ─ ─ n ─ ─ ─ u ─ ─ ─ S ─ o ─ ─ ─ ─ ─ ─ ─ l ─ ─ ─ X ─ c S ─ ─ ─ ─ H ─ ─ ─ S t ─ ─ ─ i ─ a S ─ ─ ─ ─ o ─ ─ ─ i ─ ─ ─ ─ l D ─ ─ ─ ─ s ─ ┐ │ ▼ t D ┬ ┼ │ ▼ H ─ ┬ ┘ ─ ─ t ─ ─ e o ─ ─ ─ o ─ D / ─ ─ ─ ─ ─ m ─ ─ ─ s ─ i ─ ─ ─ N ─ ─ B a ─ ─ ─ t ─ s H ─ ─ ─ ─ ─ i ─ ─ ─ ─ k D ─ ─ ┐ │ ┘ ─ n ─ ─ ─ 2 ─ s D ─ ─ ─ ─ ─ ─ B ─ ─ ─ ─ B ─ ─ ─ ─ ─ ─ ─ ) ─ ─ ┐ │ │ │ │ ┘ ─ ─ ─ ─ ┌ │ │ │ │ └ ─ ┐ │ │ ┘ ─ ─ ─ ─ ─ ─ ─ E ─ L - ─ ─ ─ ─ S ─ o ─ ─ ─ ─ X ─ c S ─ ─ ─ ─ i ─ a S ─ ─ ─ ─ ─ l D ─ ─ ┐ │ ▼ H ─ ┬ │ ┘ ─ o ─ D / ─ ─ s ─ i ─ ─ t ─ s H ─ ─ ─ k D ─ ─ 3 ─ s D ─ ─ B ─ ─ ─ ─ ─ ┐ │ │ │ │ ┘ VMware vSAN pools local disks from each ESXi host to create a resilient, shared datastore — enabling a hyperconverged infrastructure. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:0","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🔍 vSAN Architecture: ESA vs OSA ┌ │ └ ┌ │ └ ┌ │ │ │ │ │ └ ─ ─ ─ ─ ─ ─ ─ ─ ( ─ D ─ ─ C ─ ─ C ─ ─ C ─ O ─ i ─ ─ a ─ ─ a ─ ─ a ─ r ─ s ─ ─ c ─ H ─ p ─ ─ p ─ i ─ k ─ ─ h ─ D ─ a ─ ─ a ─ g ─ ─ ─ e ─ D ─ c ─ [ ─ c ─ i ┌ ▼ ─ G ┬ ▼ ─ ┬ ▼ / ─ i ─ . ─ i ─ n ─ ─ r ─ ─ T ─ S ─ t ─ . ─ t ─ a ─ ─ o ─ ─ i ─ D ─ y ─ . ─ y ─ l ┌ │ └ ─ ─ u ─ ─ e ─ D ─ ─ ] ─ ─ ─ ─ ─ ─ p ─ ─ r ─ ─ D ─ ─ D ─ S ─ ─ ─ ─ 1 ─ ─ ─ ─ i ─ ─ i ─ t ─ E ─ ─ ┐ │ ┘ ┐ │ ┘ ─ s ─ ─ s ─ V o ─ S ─ ─ S \u003c ─ k ─ ─ k ─ S r ─ X ─ ─ [ S - ─ 1 ─ ─ N ─ A a ─ i ─ ─ . D ─ ─ ─ ─ N g ─ ┬ ┼ ▼ . / 1 ┐ │ │ │ │ │ ┘ e ─ H ─ ─ . N x ┌ │ │ │ │ │ └ O ─ o ─ ─ ] V ─ ─ ─ ─ S A ─ s ─ ─ M ─ C ─ ─ C ─ A r ─ t ─ ─ ┌ │ └ e \u003e ─ a ─ ─ a ─ c ─ ─ ─ ─ ─ ┌ │ └ ─ p ─ ─ p ─ h ─ ─ ─ ─ D ─ ─ ─ ─ a ─ ─ a ─ i ┐ │ ┘ ─ ─ i ─ ─ C ─ ─ c ─ ─ c ─ t ─ ─ s ─ ─ a ─ H ─ i ─ [ ─ i ─ e ─ ─ c ─ ─ c ─ D ─ t ─ . ─ t ─ c ─ ─ ─ ─ h ─ D ─ y ─ . ─ y ─ t ┐ ▼ ─ G ┬ ▼ ─ e ┬ ▼ / ─ ─ . ─ ─ u ─ r ─ ─ ─ S ─ D ─ ] ─ D ─ r ─ o ─ ─ T ─ D ─ i ─ ─ i ─ e ─ u ─ ─ i ─ D ─ s ─ ─ s ─ ) ─ p ─ ─ e ─ ─ k ─ ─ k ─ ─ N ─ ─ r ─ ─ 1 ─ ─ N ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐ │ ┘ ┐ │ ┘ ┐ │ │ │ │ │ ┘ ( E x p r e s s ┌ │ └ ┌ │ │ └ ─ ─ ─ ─ V S ─ ─ ─ A S ─ S t ─ E ─ ─ l t ─ A o ─ S ─ ─ l o ─ N r ─ X ─ ─ - r ─ a ─ I ─ ─ F a ─ E g ─ ┬ ▼ ─ l g ─ S e ─ H ─ ─ a e ─ A ─ o ─ ─ s ─ A ─ s ─ ─ h P ─ r ─ t ─ ─ o ─ c ─ ─ ─ o ─ h ─ ─ ─ l ─ i ┐ │ ┘ ┐ │ │ ┘ t e c t u r e ) Feature OSA (Original Storage Arch.) ESA (Express Storage Arch.) Introduced in vSAN 5.5 vSAN 8.0 Cache/Capacity Separation Required Not required Performance Optimization Manual Built-in, adaptive Disk Requirements SSD + HDD All NVMe/SSD only Licensing Enterprise Plus Enterprise Plus (w/ ESA support) Recommendation: If you’re using modern NVMe disks and vSAN 8+, choose ESA for simplicity and better performance. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:1","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"📦 Hardware Requirements Minimum: 3 ESXi hosts, or 2 hosts + 1 Witness Each host must have: At least 1 SSD/NVMe for cache (OSA) At least 1 HDD or SSD for capacity All hosts must have same ESXi version RAID controllers in passthrough or RAID0 mode (JBOD) Consistent network config and IP ranges ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:2","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🛠 Step-by-Step: Enable vSAN Go to Cluster → Configure → vSAN → Services Click Configure Choose vSAN Type: vSAN HCI – Most common vSAN Max – Disaggregated storage pool Cluster topology: ✅ Two node cluster – for edge or small sites ✅ Single site cluster – standard 3+ host deployment Choose architecture: ✅ vSAN ESA (if supported) or ❌ OSA (legacy method) ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:3","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"⚙️ Feature Configuration Option Recommendation Compression ✅ Enabled (ESA only) Deduplication ❌ Optional (OSA only) Encryption at Rest ❌ Optional Encryption in Transit ✅ (default from vSAN 7 U1) Allow reduced redundancy ✅ Useful for maintenance mode RDMA support ❌ Unless special HW used ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:4","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🌐 Fault Domains \u0026 Stretched Cluster Configuration vSAN allows for advanced availability setups using Fault Domains and Stretched Clusters. These features ensure data resilience even during site or rack-level failures. 🧱 Fault Domains (FDs) Used to group ESXi hosts that might fail together, such as those in the same rack, power domain, or chassis. Ensures that vSAN places replica components across different FDs, not just different hosts. Configure FDs under Cluster → Configure → vSAN → Fault Domains. Use Case Benefit Hosts in same rack Protect against rack-level failure Edge deployments Use 2-node with Witness as 3rd FD Larger clusters (6+ hosts) Improve replica distribution 💡 At least 3 Fault Domains are required for RAID-1 with full availability. 🌍 Stretched Cluster A special vSAN topology designed for geographically separated sites. Consists of: 2 Active Fault Domains (Site A and Site B) 1 Witness Appliance (remote, vote-only, no data) Component Role Site A Half of data \u0026 compute Site B Other half of data \u0026 compute Witness Maintains quorum vSAN automatically replicates VM data between sites (RAID-1) and uses the Witness to avoid split-brain scenarios. 📝 Witness must be outside the two sites, reachable by both. 🧪 Stretched Cluster Example: RAID-1 or RAID-5 You can choose storage policies per VM: Policy Type Description RAID-1 (Mirroring) Best for performance, uses more space RAID-5 (Erasure Code) Space-efficient, needs 4+ data hosts RAID-1 across sites ensures 1:1 mirroring RAID-5 is intra-site only, used within each fault domain ✅ Best Practices Ensure low latency (≤ 5ms RTT) between active sites. Use dedicated VMkernel interfaces for vSAN on separate VLANs. Witness traffic should be isolated if possible. Monitor vSAN → Health → Stretched Cluster regularly. Use Stretched Cluster only when geographic redundancy is required — otherwise, configure simple Fault Domains. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:5","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"💾 Disk Claiming vCenter will automatically detect eligible disks. Tier Device Type Example Size Notes Cache Tier SSD / NVMe 250 GB+ Only in OSA mode Capacity HDD / SSD 500 GB+ All disks in ESA Assign disks to appropriate tiers. Confirm all hosts contribute capacity to the cluster. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:6","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🧪 Example: 2-node + Witness Topology 1 1 9 9 2 2 E . . S 1 1 X 6 6 I 8 8 . . 1 1 3 0 0 . . 1 1 1 1 W 1 i 9 t 2 n . e 1 v s 6 S s 8 A . N A 1 p 0 L p . i l 1 n i 0 k a 0 s n c e 1 1 9 9 2 2 . . E 1 1 S 6 6 X 8 8 I . . 1 3 2 0 0 . . 1 1 2 2 Node Management IP vSAN IP Role ESXI 1 192.168.10.11 192.168.30.11 Data + Compute ESXI 2 192.168.10.12 192.168.30.12 Data + Compute Witness VM 192.168.10.100 192.168.30.100 Voting only node 📝 Witness Appliance is a lightweight virtual machine. Deploy it using OVF template and place it outside the vSAN cluster. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:7","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🧰 Create vSAN Storage Policy Go to Policies and Profiles → VM Storage Policies Create a new policy: vSAN-Standard Configure: Name: vSAN-Standard vSAN rules: - Availability: \"2 failures – RAID-1 (Mirroring)\" - Object space reservation: Thin provisioning - Flash read cache: 0% - Force provisioning: Yes You can also create “No Redundancy” policies for single-host test environments. 🏁 Result: Shared Resilient Datastore After completing the wizard: A new vSAN Datastore appears under Datastores All eligible VMs can now be placed on vSAN Storage policies can be assigned during VM deployment or migration 💡 Best Practices Use separate VMkernel interfaces for vSAN traffic (VLAN + no gateway). Ensure jumbo frames are enabled (MTU 9000) if network supports it. Avoid mixing disk types or vendors within a cluster. Monitor health under vSAN → Health Enable troubleshooting logging if issues arise ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:3:8","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"4. Configuring High Availability (HA) I A n f i E t E d t S V e S o i X M r X w a I 1 I n l H 1 o 1 S s t t a t A e : f a i l V s M : 1 E E S i S V X d X M I l I 1 e 2 2 vSphere High Availability (HA) protects your virtual machines by restarting them on another ESXi host in the cluster if a failure occurs. HA is a critical feature in production environments to minimize downtime. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:4:0","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🎯 What Does HA Protect Against? Failure Type HA Protection Explanation ESXi Host Failure ✅ Yes VM restarts on surviving host VM Crash ❌ No Requires VMware FT or 3rd-party monitoring Storage Failure ⚠️ Limited Depends on vSAN resilience Network Partition ✅ Yes Uses Datastore or vSAN heartbeat ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:4:1","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🛠 Step-by-Step: Enabling HA Go to your cluster → Configure → vSphere Availability. Click Edit. Enable: ✅ Turn on vSphere HA (Optional) Enable Admission Control Under “Failure conditions and responses”: Host Failure Response: Restart VMs Isolation Response: Power off and restart VMs Click OK to apply. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:4:2","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🧠 Admission Control Explained Admission Control ensures that the cluster reserves enough resources to restart VMs if a host fails. Policy Type Description Slot Policy Based on largest CPU/memory reservation Cluster Resource Percentage Recomm. – reserve e.g., 33% CPU \u0026 memory Dedicated Failover Hosts Explicitly reserve 1 or more hosts Recommendation: Use Percentage-Based policy for flexibility and better resource utilization. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:4:3","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"⚙️ Advanced HA Options Heartbeat Datastores: Used to confirm host is alive during network isolation. Enabled automatically with vSAN. VM Monitoring: Restarts VMs if VMware Tools stops responding. Good for application crash recovery. Enable this under: Cluster → Configure → vSphere Availability → VM Monitoring Proactive HA (requires vendor plugin): Migrates VMs off hosts reporting hardware degradation (e.g., failed DIMMs, overheating) ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:4:4","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🛡 Recommended Settings Setting Value Host Monitoring ✅ Enabled VM Monitoring ✅ Enabled (medium sensitivity) Isolation Response Power off and restart VMs Datastore Heartbeating ✅ Use multiple datastores Admission Control Policy 33% reserved resources ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:4:5","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🔍 Example Scenario You have a 3-node vSAN cluster: 1 host fails → HA restarts VMs from that host on remaining 2 If Admission Control is enabled, only a safe number of VMs are allowed to power on initially to guarantee restart in case of failure ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:4:6","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"💡 Best Practices Always test HA by performing a host shutdown (not reboot). Monitor HA events in Events or Tasks tabs. Don’t disable Host Monitoring unless absolutely required (e.g., during firmware upgrades). Combine with DRS to ensure intelligent VM placement post-restart. In the next section, we will explore Distributed Resource Scheduler (DRS) — VMware’s intelligent load balancer for VM workloads. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:4:7","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"5. Configuring DRS (Distributed Resource Scheduler) B A e f f E L V V t E L V o S O M M e S O M r X A 1 2 r X A 1 e I D I D D D 1 9 R 1 6 R 0 S 0 S % % : M i g r a V t M i 2 o n : E L E L V S O S O M X A X A 2 I D I D 2 1 2 4 0 0 % % E L V E L V S O M S O M X A 3 X A 3 I D I D 3 4 3 4 5 5 % % VMware Distributed Resource Scheduler (DRS) is responsible for automatically balancing compute workloads (CPU and memory) across hosts in a cluster. It helps optimize performance and resource utilization with minimal manual intervention. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:0","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🎯 What DRS Does Monitors resource usage (CPU, RAM) across ESXi hosts Live migrates VMs (via vMotion) to balance loads Prioritizes critical workloads and improves availability DRS works only if vMotion is properly configured between hosts and there is shared storage (like vSAN or NFS). ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:1","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🛠 Step-by-Step: Enabling DRS Go to your cluster → Configure → vSphere DRS. Click Edit. Enable: ✅ Turn on vSphere DRS Set Automation Level: 🔘 Fully Automated (recommended) ⭕ Partially Automated (for initial placement only) ⭕ Manual (you approve every migration) Optionally set Migration Threshold: From Conservative (fewer moves) → Aggressive (more frequent balancing) Click OK. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:2","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🧪 Example Scenario 🛠 Example Scenario (Why Partially Automated is Safer) You have 3 hosts: Host01: Heavy load (90% CPU) Host02 / Host03: Idle or lightly loaded In Fully Automated mode: → DRS might vMotion critical database VMs without your knowledge. In Partially Automated mode: → DRS still recommends rebalancing, but you decide when and what to move. This is essential in environments where: Apps are sensitive to vMotion timing, Licensing or performance isolation matters, You need predictability during peak hours. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:3","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"⚙️ Advanced DRS Options Feature Description VM/Host Affinity Rules Keep VMs together or apart (e.g., DB + App tiers) Host Groups Define sets of hosts for special placement DRS Score (vSphere 7+) Shows VM happiness based on resource availability DRS for Maintenance Mode Automatically migrates VMs off host Predictive DRS (via vROps) Uses analytics to anticipate load ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:4","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"⚖️ Automation Level Explained Mode Behavior Use Case Manual Shows recommendations only Training/testing environments Partially Auto ✅ Automatic initial placement 🔒 Conservative or regulated operations 🔍 Manual approval for migrations 🛠 Controlled production environments Fully Automated Initial + ongoing migrations Lab/testing or low-risk workloads 🛡️ Recommended Mode: Partially Automated is recommended in most production environments. It provides automation without losing control, ensuring performance without risking unexpected migrations. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:5","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"🛡 Recommended Settings Setting Value DRS Mode ✅ Partially Auto Migration Threshold Level 3 or 4 (Balanced) Affinity Rules Define as needed Host Groups Use for licensing or zones Predictive DRS Optional (requires vROps) ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:6","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"💡 Best Practices Combine DRS with HA for maximum resiliency. Monitor DRS recommendations under Cluster → Monitor → DRS. Regularly review affinity/anti-affinity rules. For multi-tier apps (e.g., Web + DB), use anti-affinity to separate roles. Enable EVC for mixed CPU environments to ensure vMotion compatibility. With HA and DRS properly configured, your cluster can now balance workloads and survive hardware failures — fully automated, fully redundant. ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:7","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":null,"content":"✅ Summary of Cluster Setup Feature Purpose Configured in Section Cluster Aggregates hosts \u0026 enables features 1 vDS Centralized network configuration 2 vSAN Shared hyperconverged storage 3 HA VM restart on host failure 4 DRS Load balancing via vMotion 5 🧩 This completes your production-ready VMware cluster setup. If you’d like to export a full configuration checklist or Markdown version for documentation or GitHub repo, let me know! ","date":"2025-06-06","objectID":"/posts/vmware-cluster/:5:8","tags":["VMware","vSphere","vCenter","vSAN"],"title":"Creating and Configuring a VMware Cluster","uri":"/posts/vmware-cluster/"},{"categories":["networking"],"content":"🚀 Teleport is a modern open-source platform for secure access to your infrastructure: SSH, Kubernetes, databases, web apps, and even Windows desktops (RDP). ","date":"2025-05-29","objectID":"/posts/teleport/:0:0","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"Teleport Setup open-source ZTNA Platform ✅ Requirements A Linux server with a public IP address and DNS name (e.g., teleport.\u003cyour-domain\u003e) One or more Windows and Linux machines Basic terminal access (Linux + Windows) ","date":"2025-05-29","objectID":"/posts/teleport/:1:0","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"📌 Step 1: Configure DNS Create the following A records for your domain: `teleport.\u003cyour-domain\u003e` → your Linux server public IP *.`teleport.\u003cyour-domain\u003e` → your Linux server public IP This is required for Let’s Encrypt (ACME) to issue a valid TLS certificate. ","date":"2025-05-29","objectID":"/posts/teleport/:1:1","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"📥 Step 2: Install Teleport on Linux Install the latest stable version of Teleport: curl https://cdn.teleport.dev/install.sh | bash -s 17.4.8 ","date":"2025-05-29","objectID":"/posts/teleport/:1:2","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"⚙️ Step 3: Generate Teleport Configuration sudo teleport configure -o file --acme --acme-email=`teleport@yourdomain.com` --cluster-name=`teleport.\u003cyour-domain\u003e` This creates /etc/teleport.yaml with TLS auto-renewal using Let’s Encrypt. My working configuration version: v3 teleport: nodename: teleport.\u003cyour-domain\u003e data_dir: /var/lib/teleport log: output: stderr severity: INFO format: output: text auth_service: enabled: true listen_addr: 0.0.0.0:3025 cluster_name: teleport.\u003cyour-domain\u003e proxy_listener_mode: multiplex proxy_service: enabled: true web_listen_addr: 0.0.0.0:443 public_addr: teleport.\u003cyour-domain\u003e:443 acme: enabled: true email: teleport@\u003cyour-domain\u003e windows_desktop_service: enabled: \"no\" ssh_service: enabled: \"no\" ","date":"2025-05-29","objectID":"/posts/teleport/:1:3","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"▶️ Step 4: Start Teleport sudo systemctl enable teleport sudo systemctl start teleport Then open your browser and visit: https://teleport.\u003cyour-domain\u003e:443 ","date":"2025-05-29","objectID":"/posts/teleport/:1:4","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"👤 Step 5: Create a Teleport Admin User sudo tctl users add teleport-admin --roles=editor,access --logins=root,ubuntu Teleport will print an invite link like: https://teleport.\u003cyour-domain\u003e:443/web/invite/abc123... Open the link to set a password and register your MFA device. ","date":"2025-05-29","objectID":"/posts/teleport/:1:5","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"🔐 Configure Windows RDP Access ","date":"2025-05-29","objectID":"/posts/teleport/:2:0","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"🪟 Step 1: Prepare Windows for RDP On your Windows machine, open Command Prompt (cmd.exe) as Administrator and dowload: curl.exe -fo teleport.cer https://teleport.\u003cyour-domain\u003e/webapi/auth/export?type=windows curl.exe -fo teleport-windows-auth-setup-v17.4.8-amd64.exe https://cdn.teleport.dev/teleport-windows-auth-setup-v17.4.8-amd64.exe Double-click the .exe installer to run the Teleport Windows Auth Setup program. Choose certificat Restart the computer after installation. ","date":"2025-05-29","objectID":"/posts/teleport/:2:1","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"🔐 Step 2: Generate Join Token for RDP on Linux Server SSH into your Teleport Auth Server and run: tctl tokens add --type=windowsdesktop Copy the token output to your RDP proxy server, e.g., /tmp/token ","date":"2025-05-29","objectID":"/posts/teleport/:2:2","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"⚙️ Step 2: Configure windows_desktop_service on RDP Proxy Update or create the relevant section in /etc/teleport.yaml: windows_desktop_service: enabled: \"yes\" static_hosts: - name: Windows ad: false addr: 192.168.1.10:3389 labels: server: home host: Win10 Then restart the service: sudo systemctl restart teleport ","date":"2025-05-29","objectID":"/posts/teleport/:2:3","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"🌐 Configure Internal Web Application Access ","date":"2025-05-29","objectID":"/posts/teleport/:3:0","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"🔐 Step 1: Generate Join Token for App Service Run on the Auth server: tctl tokens add --type=app Copy the token to the target server that will proxy your internal app. ","date":"2025-05-29","objectID":"/posts/teleport/:3:1","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"⚙️ Step 2: Configure app_service in teleport.yaml Edit /etc/teleport.yaml on the node that will serve the app: app_service: enabled: \"yes\" apps: - name: opnsense uri: \"https://192.168.1.1:8080\" public_addr: \"opnsense.teleport.\u003cyour-domain\u003e.com\" insecure_skip_verify: true labels: env: net host: OPNsense Restart teleport sudo systemctl restart teleport ","date":"2025-05-29","objectID":"/posts/teleport/:3:2","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":["networking"],"content":"🔍 Troubleshooting ACME TLS fails? Ensure port 80 and 443 are open Check DNS records Windows host not visible? Check RDP is enabled on the Windows machine Check firewall rules Web UI unreachable? Check teleport.yaml Check logs: journalctl -u teleport or docker logs teleport 💡 Need a Docker setup? Want to automate the RDP proxy deployment? Check out my GitHub repo or contact me directly. ","date":"2025-05-29","objectID":"/posts/teleport/:4:0","tags":["teleport","rdp","linux","access","self-hosted","zero trust"],"title":"How to Deploy a Zero Trust Cluster","uri":"/posts/teleport/"},{"categories":null,"content":"Vitalii Stepchuk IT Spezialist 📍 Unterer Stadtgraben 5, 8730 Uznach 📞 +41 79 615 42 18 ✉️ v.stepchuk@topli.ch 🗓️ Geboren am 01.11.1984 🇺🇦 Nationalität: Ukraine, Aufenthaltsbewilligung “S” 🚗 Führerausweis: Kat. B ","date":"2025-05-29","objectID":"/cv/:0:0","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"🗣️ Sprachkenntnisse Ukrainisch: Muttersprache Russisch: Muttersprachliches Niveau Deutsch: Gute Kenntnisse Englisch: Gute Kenntnisse ","date":"2025-05-29","objectID":"/cv/:1:0","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"💻 IT-Kenntnisse Betriebssysteme: Linux, macOS, Windows Netzwerke: Switches, Firewalls, WLAN Virtualisierung: VMware, Hyper-V, Docker Scripting: Bash, PowerShell, Python VoIP: 3CX, Asterisk Überwachung: Zabbix, Icinga Backup: VEEAM, Acronis Hardware: Server, PC, Laptops ","date":"2025-05-29","objectID":"/cv/:2:0","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"🧑‍💻 Berufserfahrung ","date":"2025-05-29","objectID":"/cv/:3:0","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"System Ingenieur Praktikum – SIDMAR AG Mai – Dez. 2024 | Mönchaltorf, Schweiz Windows und Linux Themen: RDS-Umgebungen, System- und Sicherheitsmanagement, Log Managment, HA und Load Balancing, ADFS, VM, VPN-Server, Acronis Backup, Zabbix, Icinga, 3CX ","date":"2025-05-29","objectID":"/cv/:3:1","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"IT-Direktor – Contact Center Alfa 2017 – 2022 | Kiew, Ukraine Entwicklung und Bereitstellung der Serverinfrastruktur und des Netzwerks des Unternehmens. Implementierung und Wartung von Telefonie-, Überwachungs-, Backup-, Stromversorgungs- und Sicherheitssystemen. ","date":"2025-05-29","objectID":"/cv/:3:2","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"Projektleiter – Miner.bz (Einzelunternehmen) 2016 – 2022 | Kiew, Ukraine Entwurf, Aufbau und Wartung eines Datenzentrums für das Mining Erstellung und Konfiguration von Spezialcomputern für das Mining ","date":"2025-05-29","objectID":"/cv/:3:3","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"Projektleiter – Posolskyi (Einzelunternehmen) 2015 – 2016 | Kiew, Ukraine Entwurf und Implementierung von Videogegensprechanlagen und Videoüberwachungssystemen auf Basis eines IP-Netzwerks für einen Wohnkomplex mit 120 Wohnungen. ","date":"2025-05-29","objectID":"/cv/:3:4","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"Systemadministrator – Infolife 2009 – 2015 | Kiew, Ukraine IT-Administrator des Unternehmens Einrichtung und Wartung des Netzwerks zwischen den Büros des Unternehmens sowie des auf GSM-Gateways basierenden Telefonsystems und Akquisition des Hardware Equipments ","date":"2025-05-29","objectID":"/cv/:3:5","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"IT Specialist – Topas 2003 – 2009 | Kiew, Ukraine Sales Manager Revisionen von Computer Zusammenbau, Prüfung und Installieren eines Betriebssystems mit Anwendungen auf Computern ","date":"2025-05-29","objectID":"/cv/:3:6","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"🎓 Ausbildung Ingenieur für Elektronik Nationale Technische Universität der Ukraine “Kyiv Polytechnic Institute” 2001 – 2008 | Kiew, Ukraine ","date":"2025-05-29","objectID":"/cv/:4:0","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"🤝 Freiwilliges Engagement IT-Support für Privatpersonen in der Schweiz ","date":"2025-05-29","objectID":"/cv/:5:0","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":null,"content":"🏔️ Persönliche Interessen Skifahren | Reisen | Fischen ","date":"2025-05-29","objectID":"/cv/:6:0","tags":null,"title":"Lebenslauf","uri":"/cv/"},{"categories":["linux"],"content":"🔐 Setting Up SSH Keys on Linux (Step-by-Step Guide) Using SSH keys is a safer and easier way to connect to Linux servers — no more typing your password every time. This guide will help you set up SSH keys, copy them to a remote server, and log in securely. ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:0:0","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"✅ Step 1: Check If You Already Have SSH Keys Open your terminal and run: ls ~/.ssh/id_*.pub If you see a file like id_ed25519.pub or id_rsa.pub, it means you already have a key. You can use that one or create a new one. ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:1:0","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"🛠 Step 2: Create a New SSH Key Pair To make a new SSH key, run: ssh-keygen -t ed25519 -C \"your_email@example.com\" On older systems, use ssh-keygen -t rsa -b 4096 instead. Press Enter to accept the default location (~/.ssh/id_ed25519) You can choose to add a passphrase (or leave it empty) This creates two files: id_ed25519 → your private key (keep it secret!) id_ed25519.pub → your public key (you’ll share this) ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:2:0","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"📤 Step 3: Add Your Public Key to the Remote Server ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:3:0","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"Option 1: Use ssh-copy-id (recommended) ssh-copy-id username@remote_server_ip Add Your Public Key to the Remote ESXI Server cat ~/.ssh/id_rsa.pub | ssh root@ESXI_IP 'cat \u003e\u003e /etc/ssh/keys-root/authorized_keys' This command adds your key to the remote server so you can log in without a password. ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:3:1","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"Option 2: Manual method Show your public key: cat ~/.ssh/id_ed25519.pub Copy the whole line Connect to your server and paste it into: nano ~/.ssh/authorized_keys ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:3:2","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"🚀 Step 4: Log In Without a Password Now try logging in: ssh username@remote_server_ip If everything is correct, you’ll connect without entering a password 🎉 ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:4:0","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"🔒 Step 5 (Optional): Turn Off Password Login This step is for extra security. Only do it if SSH keys are working! Open SSH settings on the server: sudo nano /etc/ssh/sshd_config Find and change these lines: PasswordAuthentication no ChallengeResponseAuthentication no UsePAM no Save and restart SSH: sudo systemctl restart sshd ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:5:0","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"💡 Helpful Tips Your private key must stay private (~/.ssh/id_ed25519) A passphrase adds extra protection Use an SSH config file to manage many servers: Create or edit this file: nano ~/.ssh/config Add this block: Host myserver HostName 192.168.1.10 User vitalii IdentityFile ~/.ssh/id_ed25519 Then you can connect by simply running: ssh myserver ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:6:0","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["linux"],"content":"🧩 Summary SSH keys help you: Log in faster Avoid typing passwords Stay secure Now you’re ready to manage your servers like a pro — safely and efficiently! ","date":"2025-05-28","objectID":"/posts/ssh-keys-linux/:7:0","tags":["SSH","Linux","Security"],"title":"How to Set Up SSH Keys on Linux","uri":"/posts/ssh-keys-linux/"},{"categories":["networking"],"content":"OPNsense is a powerful open-source firewall and routing platform based on FreeBSD. ","date":"2025-05-26","objectID":"/posts/opnsense/:0:0","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"1.1 Installing as VM Download the ISO Architecture: amd64 Image type: DVD ISO General VM Settings OS Type → FreeBSD (64-bit) Option Minimum My conf Recommended CPU 1 cores 2 cores multi core Memory 512 MB 2 GB ≥ 4 GB Disk Size 8 GB 16 GB 120 GB First-time login credentials: Username: installer Password: opnsense After logging in, the system will automatically launch the text-based installer. Accept license and keyboard layout Choose Install (UFS) or (ZFS) Select target disk Set a new password for the root user Wait for installation to complete Remove the ISO and reboot ","date":"2025-05-26","objectID":"/posts/opnsense/:1:0","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"1.2 First Login to OPNsense After reboot, you can log: From LAN network: https://opnsense.localdomain or https://192.168.1.1 From WAN we need disable Firewall (Shell): pfctl -d Default credentials: Username: root Password: opnsense 👉 System \u003e Wizard General Setup Set hostname, domain (optional), and DNS servers. Select your time zone. Configure interfaces (WAN / LAN). Set a new root password. ","date":"2025-05-26","objectID":"/posts/opnsense/:1:1","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"1.3 Configure WEB access from WAN 👉 Firewall \u003e Rules \u003e WAN add new Rule Protocol: TCP Destination: WAN address Destination port range From: (other) 8080 To: (other) 8080 👉 System \u003e Settings \u003e Administration Protocol: HTTPS access TCP Port: 8080 👉 System \u003e Firmware \u003e Plugins Install os-vmware ","date":"2025-05-26","objectID":"/posts/opnsense/:1:2","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"1.4 System Updates and Backup Configuration 👉 System \u003e Firmware \u003e Status Click Check for updates → then Apply updates. 👉 System \u003e Configuration \u003e Backups Download a local .xml backup of your configuration. You can also enable automatic backups to cloud services like Google Drive, Nextcloud, etc. ","date":"2025-05-26","objectID":"/posts/opnsense/:1:3","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"Useful Resources 📚 Official OPNsense Documentation 🎥 YouTube: OPNsense Tutorials ","date":"2025-05-26","objectID":"/posts/opnsense/:1:4","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"2.1 WireGuard Site-to-Site VPN Setup WireGuard is a fast and modern VPN solution known for its simplicity and performance. ✅ What You’ll Need Two OPNsense firewalls with internet access (Site A and Site B) Static or dynamic public IPs (DDNS works) Site A -\u003e WAN IP 203.0.113.1 and LAN IP 192.168.1.1/24 Site B -\u003e WAN IP 203.0.113.2 and LAN IP 192.168.2.1/24 WireGuard plugin installed (os-wireguard) ","date":"2025-05-26","objectID":"/posts/opnsense/:2:0","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"2.2 Create WireGuard Instance 👉 VPN \u003e WireGuard \u003e Instances Click + Add to create a new instance. Enabled Name: site-a on Site A / site-b on Site B Click ⚙️ Generate new keypair Listen Port 51820 Tunnel Address Site A: 10.2.2.1/24 Site B: 10.2.2.2/24 Peers: it will be needed after peer created 💾 Press Save and Apply ⚠️ After saving, copy the Public Key. You’ll need it on the remote site. ","date":"2025-05-26","objectID":"/posts/opnsense/:2:1","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"2.3 Configure Peer 👉 VPN \u003e WireGuard \u003e Peers Click + Add to create a new peer. Enabled Name: site-b on Site A / site-a on Site B Public Key of the remote site Allowed IPs: remote local subnet and Instance IP On Site A: 10.2.2.2/32 192.168.2.0/24 On Site B: 10.2.2.1/32 192.168.1.0/24 Endpoint Address: remote WAN IP (or DDNS) On Site A: 203.0.113.2 On Site B: 203.0.113.1 Endpoint Port: 51820 💾 Press Save and Apply ⚠️ Now go back to Instances, edit your instance, and add this peer to Peers. 💾 Press Save and Apply Enable WireGuard and 💾 Press Apply ","date":"2025-05-26","objectID":"/posts/opnsense/:2:2","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"2.4 Create Interfaces 👉 Interfaces \u003e Assignments Assign the new WireGuard interface (wg0) Enable it: Set name: WG_SITEA / WG_SITEB 💾 Press Save and Apply ","date":"2025-05-26","objectID":"/posts/opnsense/:2:3","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"2.5 Set Up Firewall Rules 👉 Firewall \u003e Settings \u003e Normalization Interface: WireGuard (Group) Direction: Any Protocol: any Source: any Destination: any Destination port: any Description: Wireguard MSS Clamping Max mss: 1380 or lower, subtract at least 40 bytes from the Wireguard MTU 👉 Firewall \u003e Rules \u003e WAN Action: Pass Interface: WAN Direction: In TCP/IP Version: IPv4 Protocol: UDP Source: Remote WAN IP On Site A: 203.0.113.1 On Site B: 203.0.113.2 Destination: WAN address Destination port: 51820 Description: On Site A: Allow Wireguard from Site B to Site A On Site B: Allow Wireguard from Site A to Site B 👉 Firewall \u003e Rules \u003e LAN Action: Pass Interface: LAN Direction: In TCP/IP Version: IPv4 Protocol: Any Source: Remote LAN IP On Site A: 192.168.2.0/24 On Site B: 192.168.1.0/24 Destination: LAN net Destination port: 51820 Description: On Site A: Allow LAN Site B to LAN Site A On Site B: Allow LAN Site A to LAN Site B 👉 Firewall \u003e Rules \u003e Wireguard (Group) Action: Pass Interface: Wireguard (Group) Direction: In TCP/IP Version: IPv4 Protocol: Any Source: Remote LAN IP On Site A: 192.168.2.0/24 On Site B: 192.168.1.0/24 Destination: LAN net Destination port: 51820 Description: On Site A: Allow LAN Site B to LAN Site A On Site B: Allow LAN Site A to LAN Site B 👉 VPN \u003e WireGuard \u003e Status ✅ Check for handshake and endpoint status. 👉 Interfaces \u003e Diagnostics \u003e Ping Try pinging remote LAN IP (e.g., from 192.168.1.1 → 192.168.2.1) ","date":"2025-05-26","objectID":"/posts/opnsense/:2:4","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"Useful Resources 📚 Official OPNsense Documentation ","date":"2025-05-26","objectID":"/posts/opnsense/:2:5","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"3.1 IPsec VPN for iOS and macOS This guide walks you through the setup of an IPsec VPN server on OPNsense that works with iOS and macOS devices. Tested with: OPNsense 23.1.7_3 – 24.7.5_3 iOS 16+ macOS Monterey+ ","date":"2025-05-26","objectID":"/posts/opnsense/:3:0","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"👥 3.1 (Optional) Create a VPN Group System → Access → Groups → Add Group name: VPN Description: VPN users ","date":"2025-05-26","objectID":"/posts/opnsense/:3:1","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"👤 3.2 Create a VPN User System → Access → Users → Add Username: vpnuser Password: [secure password] Member Of: VPN (optional, if you created the group) ","date":"2025-05-26","objectID":"/posts/opnsense/:3:2","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"🌐 3.3 Configure IPsec Mobile Clients VPN → IPsec → Mobile Clients ✅ Enable IPsec Mobile Client Support Backend for authentication: Local Database Enforce local group: VPN (optional) IP Address Pool ✅ Provide a virtual IPv4 address Address Pool: 192.168.2.0/24 DNS Servers ✅ Provide DNS server list Server 1: 192.168.1.1 (local router IP) Server 2: 8.8.8.8 Server 3: 8.8.4.4 Phase 2 PFS Group: Off Save and Apply changes ","date":"2025-05-26","objectID":"/posts/opnsense/:3:3","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"🔑 3.4 Create Phase 1 Click “Create Phase1” at the top blue bar. Connection method: default Key Exchange version: auto Interface: WAN Description: Mobile VPN Authentication: Mutual PSK + Xauth My identifier: My IP address Pre-Shared Key: [store securely] Algorithms AES 256 Hash: SHA256, SHA384, SHA512 DH group: 2, 5, 14–18 ✅ Install policy NAT Traversal: Enable Lifetime: 28800 Save and Apply changes ","date":"2025-05-26","objectID":"/posts/opnsense/:3:4","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"🔄 3.5 Create Phase 2 VPN → IPsec → Tunnel Settings Click ➕ in Commands column of Phase 1 row. Mode: Tunnel IPv4 Type: Network Address: 0.0.0.0/0 Protocol: ESP Encryption: AES128, AES192, AES256 Hash: SHA256, SHA384, SHA512 PFS: Off Lifetime: 3600 Save and Apply ","date":"2025-05-26","objectID":"/posts/opnsense/:3:5","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"✅ 3.6 Enable IPsec VPN → IPsec → Tunnel Settings ✅ Enable IPsec (bottom of page) Apply changes ","date":"2025-05-26","objectID":"/posts/opnsense/:3:6","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"🔥 3.7 Configure Firewall: WAN Rules Firewall → Rules → WAN → Add 3 rules: Protocol: ESP → Destination: WAN → Description: IPsec ESP Protocol: TCP/UDP → Port: ISAKMP (500) → Description: IPsec ISAKMP Protocol: UDP → Port: NAT-T (4500) → Description: IPsec NAT-T ✅ Apply changes ","date":"2025-05-26","objectID":"/posts/opnsense/:3:7","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"🔒 3.8 Configure Firewall: IPsec Rules Firewall → Rules → IPsec Protocol: Any Source: Any Destination: Any ✅ Apply changes ","date":"2025-05-26","objectID":"/posts/opnsense/:3:8","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"🌍 3.9 Outbound NAT Firewall → NAT → Outbound Mode: Automatic outbound NAT Confirm 192.168.2.0/24 is listed ","date":"2025-05-26","objectID":"/posts/opnsense/:3:9","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"📡 3.10 Allow DNS from VPN Services → Unbound DNS → Access Lists → Add Access List name: 192.168.2.0/24 Action: Allow Network: 192.168.2.0/24 Description: VPN DNS access Save and Apply ","date":"2025-05-26","objectID":"/posts/opnsense/:3:10","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"🔄 3.11 (Optional) Allow Multi-Device Connections In Phase 1, set: Unique ID: no This allows one user to connect from multiple devices. ","date":"2025-05-26","objectID":"/posts/opnsense/:3:11","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"📲 3.12 iPhone VPN Configuration Settings → VPN → Add VPN Configuration… Type: IPsec Server: [OPNsense public IP] Account: vpnuser Password: [user password] Secret: [Pre-Shared Key] Leave “Group Name” empty ","date":"2025-05-26","objectID":"/posts/opnsense/:3:12","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"💻 3.13 macOS VPN Configuration System Preferences → Network → + → Interface: VPN VPN Type: Cisco IPSec Server Address: [OPNsense public IP] Account Name: vpnuser Password: [user password] Shared Secret: [Pre-Shared Key] ✅ Save and Connect ","date":"2025-05-26","objectID":"/posts/opnsense/:3:13","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"},{"categories":["networking"],"content":"💡 Troubleshooting If DNS doesn’t work — try restarting the router Double-check firewall and mobile client settings Use strong, unique Pre-Shared Keys and passwords 📝 Published on blog.topli.ch ","date":"2025-05-26","objectID":"/posts/opnsense/:3:14","tags":["Firewall","OPNsense","Network","VPN","WireGuard","IPsec","iOS","macOS"],"title":"OPNsense Setup: Basic Guide","uri":"/posts/opnsense/"}]